/*!
 * Draggabilly PACKAGED v1.1.1
 * Make that shiz draggable
 * http://draggabilly.desandro.com
 * MIT license
 */
!function(a){function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function c(a,b){var c=d(a,b)?f:e;c(a,b)}var d,e,f;"classList"in document.documentElement?(d=function(a,b){return a.classList.contains(b)},e=function(a,b){a.classList.add(b)},f=function(a,b){a.classList.remove(b)}):(d=function(a,c){return b(c).test(a.className)},e=function(a,b){d(a,b)||(a.className=a.className+" "+b)},f=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:d,addClass:e,removeClass:f,toggleClass:c,has:d,add:e,remove:f,toggle:c};"function"==typeof define&&define.amd?define("classie/classie",g):a.classie=g}(window),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],f=c.listener.apply(this,b||[]),(f===this._getOnceReturnValue()||c.once===!0)&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){var b=document.documentElement,c=function(){};b.addEventListener?c=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(c=function(b,c,d){b[c+d]=d.handleEvent?function(){var b=a.event;b.target=b.target||b.srcElement,d.handleEvent.call(d,b)}:function(){var c=a.event;c.target=c.target||c.srcElement,d.call(b,c)},b.attachEvent("on"+c,b[c+d])});var d=function(){};b.removeEventListener?d=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(d=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var e={bind:c,unbind:d};"function"==typeof define&&define.amd?define("eventie/eventie",e):a.eventie=e}(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function d(a){function d(a){if("string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var d=f(a);if("none"===d.display)return c();var i={};i.width=a.offsetWidth,i.height=a.offsetHeight;for(var j=i.isBorderBox=!(!h||!d[h]||"border-box"!==d[h]),k=0,l=g.length;l>k;k++){var m=g[k],n=d[m],o=parseFloat(n);i[m]=isNaN(o)?0:o}var p=i.paddingLeft+i.paddingRight,q=i.paddingTop+i.paddingBottom,r=i.marginLeft+i.marginRight,s=i.marginTop+i.marginBottom,t=i.borderLeftWidth+i.borderRightWidth,u=i.borderTopWidth+i.borderBottomWidth,v=j&&e,w=b(d.width);w!==!1&&(i.width=w+(v?0:p+t));var x=b(d.height);return x!==!1&&(i.height=x+(v?0:q+u)),i.innerWidth=i.width-(p+t),i.innerHeight=i.height-(q+u),i.outerWidth=i.width+r,i.outerHeight=i.height+s,i}}var e,h=a("boxSizing");return function(){if(h){var a=document.createElement("div");a.style.width="200px",a.style.padding="1px 2px 3px 4px",a.style.borderStyle="solid",a.style.borderWidth="1px 2px 3px 4px",a.style[h]="border-box";var c=document.body||document.documentElement;c.appendChild(a);var d=f(a);e=200===b(d.width),c.removeChild(a)}}(),d}var e=document.defaultView,f=e&&e.getComputedStyle?function(a){return e.getComputedStyle(a,null)}:function(a){return a.currentStyle},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],d):a.getSize=d(a.getStyleProperty)}(window),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(){}function d(d,e,g,j,k){function m(a,c){this.element="string"==typeof a?f.querySelector(a):a,this.options=b({},this.options),b(this.options,c),this._create()}function n(){return!1}function o(a,b){a.x=void 0!==b.pageX?b.pageX:b.clientX,a.y=void 0!==b.pageY?b.pageY:b.clientY}function p(a,b,c){return c=c||"round",b?Math[c](a/b)*b:a}var q=j("transform"),r=!!j("perspective");b(m.prototype,e.prototype),m.prototype.options={},m.prototype._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=b({},this.position);var a=h(this.element);"relative"!==a.position&&"absolute"!==a.position&&(this.element.style.position="relative"),this.enable(),this.setHandles()},m.prototype.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element];for(var b=0,c=this.handles.length;c>b;b++){var d=this.handles[b];a.navigator.pointerEnabled?(g.bind(d,"pointerdown",this),d.style.touchAction="none"):a.navigator.msPointerEnabled?(g.bind(d,"MSPointerDown",this),d.style.msTouchAction="none"):(g.bind(d,"mousedown",this),g.bind(d,"touchstart",this),t(d))}};var s="attachEvent"in f.documentElement,t=s?function(a){"IMG"===a.nodeName&&(a.ondragstart=n);for(var b=a.querySelectorAll("img"),c=0,d=b.length;d>c;c++){var e=b[c];e.ondragstart=n}}:c;m.prototype._getPosition=function(){var a=h(this.element),b=parseInt(a.left,10),c=parseInt(a.top,10);this.position.x=isNaN(b)?0:b,this.position.y=isNaN(c)?0:c,this._addTransformPosition(a)},m.prototype._addTransformPosition=function(a){if(q){var b=a[q];if(0===b.indexOf("matrix")){var c=b.split(","),d=0===b.indexOf("matrix3d")?12:4,e=parseInt(c[d],10),f=parseInt(c[d+1],10);this.position.x+=e,this.position.y+=f}}},m.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},m.prototype.getTouch=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];if(d.identifier===this.pointerIdentifier)return d}},m.prototype.onmousedown=function(a){var b=a.button;b&&0!==b&&1!==b||this.dragStart(a,a)},m.prototype.ontouchstart=function(a){this.isDragging||this.dragStart(a,a.changedTouches[0])},m.prototype.onMSPointerDown=m.prototype.onpointerdown=function(a){this.isDragging||this.dragStart(a,a)};var u={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};m.prototype.dragStart=function(b,c){this.isEnabled&&(b.preventDefault?b.preventDefault():b.returnValue=!1,this.pointerIdentifier=void 0!==c.pointerId?c.pointerId:c.identifier,this._getPosition(),this.measureContainment(),o(this.startPoint,c),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this._bindEvents({events:u[b.type],node:b.preventDefault?a:f}),d.add(this.element,"is-dragging"),this.isDragging=!0,this.emitEvent("dragStart",[this,b,c]),this.animate())},m.prototype._bindEvents=function(a){for(var b=0,c=a.events.length;c>b;b++){var d=a.events[b];g.bind(a.node,d,this)}this._boundEvents=a},m.prototype._unbindEvents=function(){var a=this._boundEvents;if(a&&a.events){for(var b=0,c=a.events.length;c>b;b++){var d=a.events[b];g.unbind(a.node,d,this)}delete this._boundEvents}},m.prototype.measureContainment=function(){var a=this.options.containment;if(a){this.size=k(this.element);var b=this.element.getBoundingClientRect(),c=i(a)?a:"string"==typeof a?f.querySelector(a):this.element.parentNode;this.containerSize=k(c);var d=c.getBoundingClientRect();this.relativeStartPosition={x:b.left-d.left,y:b.top-d.top}}},m.prototype.onmousemove=function(a){this.dragMove(a,a)},m.prototype.onMSPointerMove=m.prototype.onpointermove=function(a){a.pointerId===this.pointerIdentifier&&this.dragMove(a,a)},m.prototype.ontouchmove=function(a){var b=this.getTouch(a.changedTouches);b&&this.dragMove(a,b)},m.prototype.dragMove=function(a,b){o(this.dragPoint,b);var c=this.dragPoint.x-this.startPoint.x,d=this.dragPoint.y-this.startPoint.y,e=this.options.grid,f=e&&e[0],g=e&&e[1];c=p(c,f),d=p(d,g),c=this.containDrag("x",c,f),d=this.containDrag("y",d,g),c="y"===this.options.axis?0:c,d="x"===this.options.axis?0:d,this.position.x=this.startPosition.x+c,this.position.y=this.startPosition.y+d,this.dragPoint.x=c,this.dragPoint.y=d,this.emitEvent("dragMove",[this,a,b])},m.prototype.containDrag=function(a,b,c){if(!this.options.containment)return b;var d="x"===a?"width":"height",e=this.relativeStartPosition[a],f=p(-e,c,"ceil"),g=this.containerSize[d]-e-this.size[d];return g=p(g,c,"floor"),Math.min(g,Math.max(f,b))},m.prototype.onmouseup=function(a){this.dragEnd(a,a)},m.prototype.onMSPointerUp=m.prototype.onpointerup=function(a){a.pointerId===this.pointerIdentifier&&this.dragEnd(a,a)},m.prototype.ontouchend=function(a){var b=this.getTouch(a.changedTouches);b&&this.dragEnd(a,b)},m.prototype.dragEnd=function(a,b){this.isDragging=!1,delete this.pointerIdentifier,q&&(this.element.style[q]="",this.setLeftTop()),this._unbindEvents(),d.remove(this.element,"is-dragging"),this.emitEvent("dragEnd",[this,a,b])},m.prototype.onMSPointerCancel=m.prototype.onpointercancel=function(a){a.pointerId===this.pointerIdentifier&&this.dragEnd(a,a)},m.prototype.ontouchcancel=function(a){var b=this.getTouch(a.changedTouches);this.dragEnd(a,b)},m.prototype.animate=function(){if(this.isDragging){this.positionDrag();var a=this;l(function(){a.animate()})}};var v=r?function(a,b){return"translate3d( "+a+"px, "+b+"px, 0)"}:function(a,b){return"translate( "+a+"px, "+b+"px)"};return m.prototype.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},m.prototype.positionDrag=q?function(){this.element.style[q]=v(this.dragPoint.x,this.dragPoint.y)}:m.prototype.setLeftTop,m.prototype.enable=function(){this.isEnabled=!0},m.prototype.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},m}for(var e,f=a.document,g=f.defaultView,h=g&&g.getComputedStyle?function(a){return g.getComputedStyle(a,null)}:function(a){return a.currentStyle},i="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},j=0,k="webkit moz ms o".split(" "),l=a.requestAnimationFrame,m=a.cancelAnimationFrame,n=0;n<k.length&&(!l||!m);n++)e=k[n],l=l||a[e+"RequestAnimationFrame"],m=m||a[e+"CancelAnimationFrame"]||a[e+"CancelRequestAnimationFrame"];l&&m||(l=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-j)),e=a.setTimeout(function(){b(c+d)},d);return j=c+d,e},m=function(b){a.clearTimeout(b)}),"function"==typeof define&&define.amd?define(["classie/classie","eventEmitter/EventEmitter","eventie/eventie","get-style-property/get-style-property","get-size/get-size"],d):"object"==typeof exports?module.exports=d(require("desandro-classie"),require("wolfy87-eventemitter"),require("eventie"),require("desandro-get-style-property"),require("get-size")):a.Draggabilly=d(a.classie,a.EventEmitter,a.eventie,a.getStyleProperty,a.getSize)}(window);

/* sanitize.min.js , function html_clean(input) */
var tagWhitelist_=["A","B","BODY","BR","DIV","EM","HR","I","IMG","P","SPAN","STRONG","IFRAME","VIDEO"];
var attributeWhitelist_=["href","width","height","frameborder","src","allowfullscren","style"];
var allowedUrls={
  IFRAME:[/https?:\/\/www.dailymotion.com\//,/(https?:)?\/\/www.youtube.com\//],
  VIDEO:[/https?:\/\/www.youtube.com\//]
};
function isUrlAllowed(a,b,c){function d(a){return function(b){return b.test(a)}}return"src"!=b||(!(a in allowedUrls)||allowedUrls[a].some(d(c)))}function html_clean(a){function c(a){if(a.nodeType==Node.TEXT_NODE)var d=a.cloneNode(!0);else if(a.nodeType==Node.ELEMENT_NODE&&tagWhitelist_.indexOf(a.tagName)>-1){d=b.contentDocument.createElement(a.tagName);for(var e=0;e<a.attributes.length;e++){var f=a.attributes[e];attributeWhitelist_.indexOf(f.name)>-1&&isUrlAllowed(a.tagName,f.name,f.value)&&d.setAttribute(f.name,f.value)}for(e=0;e<a.childNodes.length;e++){var g=c(a.childNodes[e]);d.appendChild(g)}}else d=document.createDocumentFragment();return d}var b=document.createElement("iframe");if(void 0===b.sandbox)return alert("Your browser does not support sandboxed iframes. Please upgrade to a modern browser."),"";b.sandbox="allow-same-origin",b.style.display="none",document.body.appendChild(b),b.contentDocument.body.innerHTML=a;var d=c(b.contentDocument.body);return document.body.removeChild(b),"undefined"!=d.innerHTML?d.innerHTML:""}

/* md5.min.js */
!function(n){"use strict";function t(n,t){var r=(65535&n)+(65535&t),e=(n>>16)+(t>>16)+(r>>16);return e<<16|65535&r}function r(n,t){return n<<t|n>>>32-t}function e(n,e,o,u,c,f){return t(r(t(t(e,n),t(u,f)),c),o)}function o(n,t,r,o,u,c,f){return e(t&r|~t&o,n,t,u,c,f)}function u(n,t,r,o,u,c,f){return e(t&o|r&~o,n,t,u,c,f)}function c(n,t,r,o,u,c,f){return e(t^r^o,n,t,u,c,f)}function f(n,t,r,o,u,c,f){return e(r^(t|~o),n,t,u,c,f)}function i(n,r){n[r>>5]|=128<<r%32,n[(r+64>>>9<<4)+14]=r;var e,i,a,h,d,l=1732584193,g=-271733879,v=-1732584194,m=271733878;for(e=0;e<n.length;e+=16)i=l,a=g,h=v,d=m,l=o(l,g,v,m,n[e],7,-680876936),m=o(m,l,g,v,n[e+1],12,-389564586),v=o(v,m,l,g,n[e+2],17,606105819),g=o(g,v,m,l,n[e+3],22,-1044525330),l=o(l,g,v,m,n[e+4],7,-176418897),m=o(m,l,g,v,n[e+5],12,1200080426),v=o(v,m,l,g,n[e+6],17,-1473231341),g=o(g,v,m,l,n[e+7],22,-45705983),l=o(l,g,v,m,n[e+8],7,1770035416),m=o(m,l,g,v,n[e+9],12,-1958414417),v=o(v,m,l,g,n[e+10],17,-42063),g=o(g,v,m,l,n[e+11],22,-1990404162),l=o(l,g,v,m,n[e+12],7,1804603682),m=o(m,l,g,v,n[e+13],12,-40341101),v=o(v,m,l,g,n[e+14],17,-1502002290),g=o(g,v,m,l,n[e+15],22,1236535329),l=u(l,g,v,m,n[e+1],5,-165796510),m=u(m,l,g,v,n[e+6],9,-1069501632),v=u(v,m,l,g,n[e+11],14,643717713),g=u(g,v,m,l,n[e],20,-373897302),l=u(l,g,v,m,n[e+5],5,-701558691),m=u(m,l,g,v,n[e+10],9,38016083),v=u(v,m,l,g,n[e+15],14,-660478335),g=u(g,v,m,l,n[e+4],20,-405537848),l=u(l,g,v,m,n[e+9],5,568446438),m=u(m,l,g,v,n[e+14],9,-1019803690),v=u(v,m,l,g,n[e+3],14,-187363961),g=u(g,v,m,l,n[e+8],20,1163531501),l=u(l,g,v,m,n[e+13],5,-1444681467),m=u(m,l,g,v,n[e+2],9,-51403784),v=u(v,m,l,g,n[e+7],14,1735328473),g=u(g,v,m,l,n[e+12],20,-1926607734),l=c(l,g,v,m,n[e+5],4,-378558),m=c(m,l,g,v,n[e+8],11,-2022574463),v=c(v,m,l,g,n[e+11],16,1839030562),g=c(g,v,m,l,n[e+14],23,-35309556),l=c(l,g,v,m,n[e+1],4,-1530992060),m=c(m,l,g,v,n[e+4],11,1272893353),v=c(v,m,l,g,n[e+7],16,-155497632),g=c(g,v,m,l,n[e+10],23,-1094730640),l=c(l,g,v,m,n[e+13],4,681279174),m=c(m,l,g,v,n[e],11,-358537222),v=c(v,m,l,g,n[e+3],16,-722521979),g=c(g,v,m,l,n[e+6],23,76029189),l=c(l,g,v,m,n[e+9],4,-640364487),m=c(m,l,g,v,n[e+12],11,-421815835),v=c(v,m,l,g,n[e+15],16,530742520),g=c(g,v,m,l,n[e+2],23,-995338651),l=f(l,g,v,m,n[e],6,-198630844),m=f(m,l,g,v,n[e+7],10,1126891415),v=f(v,m,l,g,n[e+14],15,-1416354905),g=f(g,v,m,l,n[e+5],21,-57434055),l=f(l,g,v,m,n[e+12],6,1700485571),m=f(m,l,g,v,n[e+3],10,-1894986606),v=f(v,m,l,g,n[e+10],15,-1051523),g=f(g,v,m,l,n[e+1],21,-2054922799),l=f(l,g,v,m,n[e+8],6,1873313359),m=f(m,l,g,v,n[e+15],10,-30611744),v=f(v,m,l,g,n[e+6],15,-1560198380),g=f(g,v,m,l,n[e+13],21,1309151649),l=f(l,g,v,m,n[e+4],6,-145523070),m=f(m,l,g,v,n[e+11],10,-1120210379),v=f(v,m,l,g,n[e+2],15,718787259),g=f(g,v,m,l,n[e+9],21,-343485551),l=t(l,i),g=t(g,a),v=t(v,h),m=t(m,d);return[l,g,v,m]}function a(n){var t,r="",e=32*n.length;for(t=0;t<e;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}function h(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var e=8*n.length;for(t=0;t<e;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}function d(n){return a(i(h(n),8*n.length))}function l(n,t){var r,e,o=h(n),u=[],c=[];for(u[15]=c[15]=void 0,o.length>16&&(o=i(o,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=i(u.concat(h(t)),512+8*t.length),a(i(c.concat(e),640))}function g(n){var t,r,e="0123456789abcdef",o="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),o+=e.charAt(t>>>4&15)+e.charAt(15&t);return o}function v(n){return unescape(encodeURIComponent(n))}function m(n){return d(v(n))}function p(n){return g(m(n))}function s(n,t){return l(v(n),v(t))}function C(n,t){return g(s(n,t))}function A(n,t,r){return t?r?s(t,n):C(t,n):r?m(n):p(n)}"function"==typeof define&&define.amd?define(function(){return A}):"object"==typeof module&&module.exports?module.exports=A:n.md5=A}(this);

/* mithril.min.js v1.1.6 */
(function(){function B(b,d,f,g,e,n){return{tag:b,key:d,attrs:f,children:g,text:e,dom:n,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function N(b){for(var d in b)if(G.call(b,d))return!1;return!0}function D(b){var d=arguments[1],f=2;if(null==b||"string"!==typeof b&&"function"!==typeof b&&"function"!==typeof b.view)throw Error("The selector must be either a string or a component.");if("string"===typeof b){var g;if(!(g=O[b])){var e="div";for(var n=[],h={};g=Q.exec(b);){var q=
g[1],m=g[2];""===q&&""!==m?e=m:"#"===q?h.id=m:"."===q?n.push(m):"["===g[3][0]&&((q=g[6])&&(q=q.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===g[4]?n.push(q):h[g[4]]=""===q?q:q||!0)}0<n.length&&(h.className=n.join(" "));g=O[b]={tag:e,attrs:h}}}if(null==d)d={};else if("object"!==typeof d||null!=d.tag||Array.isArray(d))d={},f=1;if(arguments.length===f+1)e=arguments[f],Array.isArray(e)||(e=[e]);else for(e=[];f<arguments.length;)e.push(arguments[f++]);f=B.normalizeChildren(e);if("string"===
typeof b){e=!1;var k,t;n=d.className||d["class"];if(!N(g.attrs)&&!N(d)){h={};for(var a in d)G.call(d,a)&&(h[a]=d[a]);d=h}for(a in g.attrs)G.call(g.attrs,a)&&(d[a]=g.attrs[a]);void 0!==n&&(void 0!==d["class"]&&(d["class"]=void 0,d.className=n),null!=g.attrs.className&&(d.className=g.attrs.className+" "+n));for(a in d)if(G.call(d,a)&&"key"!==a){e=!0;break}Array.isArray(f)&&1===f.length&&null!=f[0]&&"#"===f[0].tag?t=f[0].children:k=f;return B(g.tag,d.key,e?d:void 0,k,t)}return B(b,d.key,d,f)}function R(b){var d=
0,f=null,g="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var e=Date.now();0===d||16<=e-d?(d=e,b()):null===f&&(f=g(function(){f=null;b();d=Date.now()},16-(e-d)))}}B.normalize=function(b){return Array.isArray(b)?B("[",void 0,void 0,B.normalizeChildren(b),void 0,void 0):null!=b&&"object"!==typeof b?B("#",void 0,void 0,!1===b?"":b,void 0,void 0):b};B.normalizeChildren=function(b){for(var d=0;d<b.length;d++)b[d]=B.normalize(b[d]);return b};var Q=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,
O={},G={}.hasOwnProperty;D.trust=function(b){null==b&&(b="");return B("<",void 0,void 0,b,void 0,void 0)};D.fragment=function(b,d){return B("[",b.key,b,B.normalizeChildren(d),void 0,void 0)};var x=function(b){function d(b,a){return function E(d){var h;try{if(!a||null==d||"object"!==typeof d&&"function"!==typeof d||"function"!==typeof(h=d.then))k(function(){a||0!==b.length||console.error("Possible unhandled promise rejection:",d);for(var f=0;f<b.length;f++)b[f](d);e.length=0;n.length=0;m.state=a;m.retry=
function(){E(d)}});else{if(d===g)throw new TypeError("Promise can't be resolved w/ itself");f(h.bind(d))}}catch(S){q(S)}}}function f(b){function a(a){return function(b){0<d++||a(b)}}var d=0,f=a(q);try{b(a(h),f)}catch(E){f(E)}}if(!(this instanceof x))throw Error("Promise must be called with `new`");if("function"!==typeof b)throw new TypeError("executor must be a function");var g=this,e=[],n=[],h=d(e,!0),q=d(n,!1),m=g._instance={resolvers:e,rejectors:n},k="function"===typeof setImmediate?setImmediate:
setTimeout;f(b)};x.prototype.then=function(b,d){function f(b,d,f,h){d.push(function(a){if("function"!==typeof b)f(a);else try{e(b(a))}catch(w){n&&n(w)}});"function"===typeof g.retry&&h===g.state&&g.retry()}var g=this._instance,e,n,h=new x(function(b,d){e=b;n=d});f(b,g.resolvers,e,!0);f(d,g.rejectors,n,!1);return h};x.prototype["catch"]=function(b){return this.then(null,b)};x.resolve=function(b){return b instanceof x?b:new x(function(d){d(b)})};x.reject=function(b){return new x(function(d,f){f(b)})};
x.all=function(b){return new x(function(d,f){var g=b.length,e=0,n=[];if(0===b.length)d([]);else for(var h=0;h<b.length;h++)(function(h){function m(b){e++;n[h]=b;e===g&&d(n)}null==b[h]||"object"!==typeof b[h]&&"function"!==typeof b[h]||"function"!==typeof b[h].then?m(b[h]):b[h].then(m,f)})(h)})};x.race=function(b){return new x(function(d,f){for(var g=0;g<b.length;g++)b[g].then(d,f)})};"undefined"!==typeof window?("undefined"===typeof window.Promise&&(window.Promise=x),x=window.Promise):"undefined"!==
typeof global&&("undefined"===typeof global.Promise&&(global.Promise=x),x=global.Promise);var F=function(b){function d(b,g){if(Array.isArray(g))for(var e=0;e<g.length;e++)d(b+"["+e+"]",g[e]);else if("[object Object]"===Object.prototype.toString.call(g))for(e in g)d(b+"["+e+"]",g[e]);else f.push(encodeURIComponent(b)+(null!=g&&""!==g?"="+encodeURIComponent(g):""))}if("[object Object]"!==Object.prototype.toString.call(b))return"";var f=[],g;for(g in b)d(g,b[g]);return f.join("&")},T=/^file:\/\//i,L=
function(b,d){function f(){function a(){0===--b&&"function"===typeof t&&t()}var b=0;return function u(d){var f=d.then;d.then=function(){b++;var e=f.apply(d,arguments);e.then(a,function(d){a();if(0===b)throw d;});return u(e)};return d}}function g(a,b){if("string"===typeof a){var d=a;a=b||{};null==a.url&&(a.url=d)}return a}function e(a,b){if(null==b)return a;for(var d=a.match(/:[^\/]+/gi)||[],f=0;f<d.length;f++){var e=d[f].slice(1);null!=b[e]&&(a=a.replace(d[f],b[e]))}return a}function n(a,b){var d=
F(b);if(""!==d){var f=0>a.indexOf("?")?"?":"&";a+=f+d}return a}function h(a){try{return""!==a?JSON.parse(a):null}catch(w){throw Error(a);}}function q(a){return a.responseText}function m(a,b){if("function"===typeof a)if(Array.isArray(b))for(var d=0;d<b.length;d++)b[d]=new a(b[d]);else return new a(b);return b}var k=0,t;return{request:function(a,k){var t=f();a=g(a,k);var w=new d(function(d,f){null==a.method&&(a.method="GET");a.method=a.method.toUpperCase();var g="GET"===a.method||"TRACE"===a.method?
!1:"boolean"===typeof a.useBody?a.useBody:!0;"function"!==typeof a.serialize&&(a.serialize="undefined"!==typeof FormData&&a.data instanceof FormData?function(a){return a}:JSON.stringify);"function"!==typeof a.deserialize&&(a.deserialize=h);"function"!==typeof a.extract&&(a.extract=q);a.url=e(a.url,a.data);g?a.data=a.serialize(a.data):a.url=n(a.url,a.data);var k=new b.XMLHttpRequest,t=!1,w=k.abort;k.abort=function(){t=!0;w.call(k)};k.open(a.method,a.url,"boolean"===typeof a.async?a.async:!0,"string"===
typeof a.user?a.user:void 0,"string"===typeof a.password?a.password:void 0);a.serialize!==JSON.stringify||!g||a.headers&&a.headers.hasOwnProperty("Content-Type")||k.setRequestHeader("Content-Type","application/json; charset=utf-8");a.deserialize!==h||a.headers&&a.headers.hasOwnProperty("Accept")||k.setRequestHeader("Accept","application/json, text/*");a.withCredentials&&(k.withCredentials=a.withCredentials);for(var u in a.headers)({}).hasOwnProperty.call(a.headers,u)&&k.setRequestHeader(u,a.headers[u]);
"function"===typeof a.config&&(k=a.config(k,a)||k);k.onreadystatechange=function(){if(!t&&4===k.readyState)try{var b=a.extract!==q?a.extract(k,a):a.deserialize(a.extract(k,a));if(200<=k.status&&300>k.status||304===k.status||T.test(a.url))d(m(a.type,b));else{var l=Error(k.responseText),c;for(c in b)l[c]=b[c];f(l)}}catch(p){f(p)}};g&&null!=a.data?k.send(a.data):k.send()});return!0===a.background?w:t(w)},jsonp:function(a,h){var t=f();a=g(a,h);var q=new d(function(d,f){var g=a.callbackName||"_mithril_"+
Math.round(1E16*Math.random())+"_"+k++,h=b.document.createElement("script");b[g]=function(f){h.parentNode.removeChild(h);d(m(a.type,f));delete b[g]};h.onerror=function(){h.parentNode.removeChild(h);f(Error("JSONP request failed"));delete b[g]};null==a.data&&(a.data={});a.url=e(a.url,a.data);a.data[a.callbackKey||"callback"]=g;h.src=n(a.url,a.data);b.document.documentElement.appendChild(h)});return!0===a.background?q:t(q)},setCompletionCallback:function(a){t=a}}}(window,x),P=function(b){function d(l,
c,p,a,b,d,g){for(;p<a;p++){var v=c[p];null!=v&&f(l,v,b,g,d)}}function f(l,c,p,a,b){var v=c.tag;if("string"===typeof v)switch(c.state={},null!=c.attrs&&D(c.attrs,c,p),v){case "#":return c.dom=A.createTextNode(c.children),k(l,c.dom,b),c.dom;case "<":return g(l,c,b);case "[":var h=A.createDocumentFragment();null!=c.children&&(v=c.children,d(h,v,0,v.length,p,null,a));c.dom=h.firstChild;c.domSize=h.childNodes.length;k(l,h,b);return h;default:var m=c.tag,r=(v=c.attrs)&&v.is;m=(a=c.attrs&&c.attrs.xmlns||
G[c.tag]||a)?r?A.createElementNS(a,m,{is:r}):A.createElementNS(a,m):r?A.createElement(m,{is:r}):A.createElement(m);c.dom=m;if(null!=v)for(h in r=a,v)E(c,h,null,v[h],r);k(l,m,b);null!=c.attrs&&null!=c.attrs.contenteditable?t(c):(null!=c.text&&(""!==c.text?m.textContent=c.text:c.children=[B("#",void 0,void 0,c.text,void 0,void 0)]),null!=c.children&&(l=c.children,d(m,l,0,l.length,p,null,a),l=c.attrs,"select"===c.tag&&null!=l&&("value"in l&&E(c,"value",null,l.value,void 0),"selectedIndex"in l&&E(c,"selectedIndex",
null,l.selectedIndex,void 0))));return m}else return e(c,p),null!=c.instance?(p=f(l,c.instance,p,a,b),c.dom=c.instance.dom,c.domSize=null!=c.dom?c.instance.domSize:0,k(l,p,b),c=p):(c.domSize=0,c=K),c}function g(l,c,a){var p={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(c.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div";p=A.createElement(p);p.innerHTML=c.children;c.dom=p.firstChild;c.domSize=p.childNodes.length;c=A.createDocumentFragment();
for(var b;b=p.firstChild;)c.appendChild(b);k(l,c,a);return c}function e(l,c){if("function"===typeof l.tag.view){l.state=Object.create(l.tag);var a=l.state.view;if(null!=a.$$reentrantLock$$)return K;a.$$reentrantLock$$=!0}else{l.state=void 0;a=l.tag;if(null!=a.$$reentrantLock$$)return K;a.$$reentrantLock$$=!0;l.state=null!=l.tag.prototype&&"function"===typeof l.tag.prototype.view?new l.tag(l):l.tag(l)}l._state=l.state;null!=l.attrs&&D(l.attrs,l,c);D(l._state,l,c);l.instance=B.normalize(l._state.view.call(l.state,
l));if(l.instance===l)throw Error("A view cannot return the vnode it received as argument");a.$$reentrantLock$$=null}function n(l,c,p,b,g,e,n){if(c!==p&&(null!=c||null!=p))if(null==c)d(l,p,0,p.length,g,e,n);else if(null==p)a(c,0,c.length,p);else{if(c.length===p.length){for(var v=!1,r=0;r<p.length;r++)if(null!=p[r]&&null!=c[r]){v=null==p[r].key&&null==c[r].key;break}if(v){for(r=0;r<c.length;r++)c[r]!==p[r]&&(null==c[r]&&null!=p[r]?f(l,p[r],g,n,m(c,r+1,e)):null==p[r]?a(c,r,r+1,p):h(l,c[r],p[r],g,m(c,
r+1,e),b,n));return}}if(!b)a:{if(null!=c.pool&&Math.abs(c.pool.length-p.length)<=Math.abs(c.length-p.length)&&(b=p[0]&&p[0].children&&p[0].children.length||0,Math.abs((c.pool[0]&&c.pool[0].children&&c.pool[0].children.length||0)-b)<=Math.abs((c[0]&&c[0].children&&c[0].children.length||0)-b))){b=!0;break a}b=!1}if(b){var t=c.pool;c=c.concat(c.pool)}r=v=0;for(var w=c.length-1,y=p.length-1,H;w>=v&&y>=r;){var u=c[v],z=p[r];if(u!==z||b)if(null==u)v++;else if(null==z)r++;else if(u.key===z.key){var C=null!=
t&&v>=c.length-t.length||null==t&&b;v++;r++;h(l,u,z,g,m(c,v,e),C,n);b&&u.tag===z.tag&&k(l,q(u),e)}else if(u=c[w],u!==z||b)if(null==u)w--;else if(null==z)r++;else if(u.key===z.key)C=null!=t&&w>=c.length-t.length||null==t&&b,h(l,u,z,g,m(c,w+1,e),C,n),(b||r<y)&&k(l,q(u),m(c,v,e)),w--,r++;else break;else w--,r++;else v++,r++}for(;w>=v&&y>=r;){u=c[w];z=p[y];if(u!==z||b)if(null==u)w--;else{if(null!=z)if(u.key===z.key)C=null!=t&&w>=c.length-t.length||null==t&&b,h(l,u,z,g,m(c,w+1,e),C,n),b&&u.tag===z.tag&&
k(l,q(u),e),null!=u.dom&&(e=u.dom),w--;else{if(!H){H=c;u=w;C={};var A;for(A=0;A<u;A++){var x=H[A];null!=x&&(x=x.key,null!=x&&(C[x]=A))}H=C}null!=z&&(u=H[z.key],null!=u?(C=c[u],h(l,C,z,g,m(c,w+1,e),b,n),k(l,q(C),e),c[u].skip=!0,null!=C.dom&&(e=C.dom)):e=f(l,z,g,n,e))}y--}else w--,y--;if(y<r)break}d(l,p,r,y+1,g,e,n);a(c,v,w+1,p)}}function h(l,c,a,b,d,m,k){var p=c.tag;if(p===a.tag){a.state=c.state;a._state=c._state;a.events=c.events;var v;if(v=!m){var C,z;null!=a.attrs&&"function"===typeof a.attrs.onbeforeupdate&&
(C=a.attrs.onbeforeupdate.call(a.state,a,c));"string"!==typeof a.tag&&"function"===typeof a._state.onbeforeupdate&&(z=a._state.onbeforeupdate.call(a.state,a,c));void 0===C&&void 0===z||C||z?v=!1:(a.dom=c.dom,a.domSize=c.domSize,a.instance=c.instance,v=!0)}if(!v)if("string"===typeof p)switch(null!=a.attrs&&(m?(a.state={},D(a.attrs,a,b)):J(a.attrs,a,b)),p){case "#":c.children.toString()!==a.children.toString()&&(c.dom.nodeValue=a.children);a.dom=c.dom;break;case "<":c.children!==a.children?(q(c),g(l,
a,d)):(a.dom=c.dom,a.domSize=c.domSize);break;case "[":n(l,c.children,a.children,m,b,d,k);c=0;b=a.children;a.dom=null;if(null!=b){for(m=0;m<b.length;m++){var y=b[m];null!=y&&null!=y.dom&&(null==a.dom&&(a.dom=y.dom),c+=y.domSize||1)}1!==c&&(a.domSize=c)}break;default:l=a.dom=c.dom;k=a.attrs&&a.attrs.xmlns||G[a.tag]||k;"textarea"===a.tag&&(null==a.attrs&&(a.attrs={}),null!=a.text&&(a.attrs.value=a.text,a.text=void 0));d=c.attrs;p=a.attrs;v=k;if(null!=p)for(y in p)E(a,y,d&&d[y],p[y],v);if(null!=d)for(y in d)null!=
p&&y in p||("className"===y&&(y="class"),"o"!==y[0]||"n"!==y[1]||u(y)?"key"!==y&&a.dom.removeAttribute(y):x(a,y,void 0));null!=a.attrs&&null!=a.attrs.contenteditable?t(a):null!=c.text&&null!=a.text&&""!==a.text?c.text.toString()!==a.text.toString()&&(c.dom.firstChild.nodeValue=a.text):(null!=c.text&&(c.children=[B("#",void 0,void 0,c.text,void 0,c.dom.firstChild)]),null!=a.text&&(a.children=[B("#",void 0,void 0,a.text,void 0,void 0)]),n(l,c.children,a.children,m,b,null,k))}else{if(m)e(a,b);else{a.instance=
B.normalize(a._state.view.call(a.state,a));if(a.instance===a)throw Error("A view cannot return the vnode it received as argument");null!=a.attrs&&J(a.attrs,a,b);J(a._state,a,b)}null!=a.instance?(null==c.instance?f(l,a.instance,b,k,d):h(l,c.instance,a.instance,b,d,m,k),a.dom=a.instance.dom,a.domSize=a.instance.domSize):null!=c.instance?(w(c.instance,null),a.dom=void 0,a.domSize=0):(a.dom=c.dom,a.domSize=c.domSize)}}else w(c,null),f(l,a,b,k,d)}function q(a){var c=a.domSize;if(null!=c||null==a.dom){var b=
A.createDocumentFragment();if(0<c){for(a=a.dom;--c;)b.appendChild(a.nextSibling);b.insertBefore(a,b.firstChild)}return b}return a.dom}function m(a,c,b){for(;c<a.length;c++)if(null!=a[c]&&null!=a[c].dom)return a[c].dom;return b}function k(a,c,b){b&&b.parentNode?a.insertBefore(c,b):a.appendChild(c)}function t(a){var c=a.children;if(null!=c&&1===c.length&&"<"===c[0].tag)c=c[0].children,a.dom.innerHTML!==c&&(a.dom.innerHTML=c);else if(null!=a.text||null!=c&&0!==c.length)throw Error("Child node of a contenteditable must be trusted");
}function a(a,c,b,d){for(;c<b;c++){var l=a[c];null!=l&&(l.skip?l.skip=!1:w(l,d))}}function w(a,c){function b(){if(++d===l&&(C(a),a.dom)){var b=a.domSize||1;if(1<b)for(var e=a.dom;--b;){var g=e.nextSibling,f=g.parentNode;null!=f&&f.removeChild(g)}b=a.dom;e=b.parentNode;null!=e&&e.removeChild(b);if(b=null!=c&&null==a.domSize)b=a.attrs,b=!(null!=b&&(b.oncreate||b.onupdate||b.onbeforeremove||b.onremove));b&&"string"===typeof a.tag&&(c.pool?c.pool.push(a):c.pool=[a])}}var l=1,d=0;if(a.attrs&&"function"===
typeof a.attrs.onbeforeremove){var e=a.attrs.onbeforeremove.call(a.state,a);null!=e&&"function"===typeof e.then&&(l++,e.then(b,b))}"string"!==typeof a.tag&&"function"===typeof a._state.onbeforeremove&&(e=a._state.onbeforeremove.call(a.state,a),null!=e&&"function"===typeof e.then&&(l++,e.then(b,b)));b()}function C(a){a.attrs&&"function"===typeof a.attrs.onremove&&a.attrs.onremove.call(a.state,a);if("string"!==typeof a.tag)"function"===typeof a._state.onremove&&a._state.onremove.call(a.state,a),null!=
a.instance&&C(a.instance);else if(a=a.children,Array.isArray(a))for(var c=0;c<a.length;c++){var b=a[c];null!=b&&C(b)}}function E(a,b,d,e,g){var c=a.dom;if("key"!==b&&"is"!==b&&(d!==e||"value"===b||"checked"===b||"selectedIndex"===b||"selected"===b&&a.dom===A.activeElement||"object"===typeof e)&&"undefined"!==typeof e&&!u(b)){var l=b.indexOf(":");if(-1<l&&"xlink"===b.substr(0,l))c.setAttributeNS("http://www.w3.org/1999/xlink",b.slice(l+1),e);else if("o"===b[0]&&"n"===b[1]&&"function"===typeof e)x(a,
b,e);else if("style"===b)if(a=d,a===e&&(c.style.cssText="",a=null),null==e)c.style.cssText="";else if("string"===typeof e)c.style.cssText=e;else{"string"===typeof a&&(c.style.cssText="");for(var f in e)c.style[f]=e[f];if(null!=a&&"string"!==typeof a)for(f in a)f in e||(c.style[f]="")}else if(b in c&&"href"!==b&&"list"!==b&&"form"!==b&&"width"!==b&&"height"!==b&&void 0===g&&!(a.attrs.is||-1<a.tag.indexOf("-"))){if("value"===b){f=""+e;if(("input"===a.tag||"textarea"===a.tag)&&a.dom.value===f&&a.dom===
A.activeElement)return;if("select"===a.tag)if(null===e){if(-1===a.dom.selectedIndex&&a.dom===A.activeElement)return}else if(null!==d&&a.dom.value===f&&a.dom===A.activeElement)return;if("option"===a.tag&&null!=d&&a.dom.value===f)return}"input"===a.tag&&"type"===b?c.setAttribute(b,e):c[b]=e}else"boolean"===typeof e?e?c.setAttribute(b,""):c.removeAttribute(b):c.setAttribute("className"===b?"class":b,e)}}function u(a){return"oninit"===a||"oncreate"===a||"onupdate"===a||"onremove"===a||"onbeforeremove"===
a||"onbeforeupdate"===a}function x(a,b,d){var c=a.dom,e="function"!==typeof F?d:function(a){var b=d.call(c,a);F.call(c,a);return b};if(b in c)c[b]="function"===typeof d?e:null;else{var f=b.slice(2);void 0===a.events&&(a.events={});a.events[b]!==e&&(null!=a.events[b]&&c.removeEventListener(f,a.events[b],!1),"function"===typeof d&&(a.events[b]=e,c.addEventListener(f,a.events[b],!1)))}}function D(a,b,d){"function"===typeof a.oninit&&a.oninit.call(b.state,b);"function"===typeof a.oncreate&&d.push(a.oncreate.bind(b.state,
b))}function J(a,b,d){"function"===typeof a.onupdate&&d.push(a.onupdate.bind(b.state,b))}var A=b.document,K=A.createDocumentFragment(),G={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},F;return{render:function(a,b){if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var c=[],d=A.activeElement,e=a.namespaceURI;null==a.vnodes&&(a.textContent="");Array.isArray(b)||(b=[b]);n(a,a.vnodes,B.normalizeChildren(b),!1,c,null,"http://www.w3.org/1999/xhtml"===
e?void 0:e);a.vnodes=b;null!=d&&A.activeElement!==d&&d.focus();for(d=0;d<c.length;d++)c[d]()},setEventCallback:function(a){return F=a}}},I=function(b){function d(b){b=g.indexOf(b);-1<b&&g.splice(b,2)}function f(){for(var b=1;b<g.length;b+=2)g[b]()}b=P(b);b.setEventCallback(function(b){!1===b.redraw?b.redraw=void 0:f()});var g=[];return{subscribe:function(b,f){d(b);g.push(b,R(f))},unsubscribe:d,redraw:f,render:b.render}}(window);L.setCompletionCallback(I.redraw);D.mount=function(b){return function(d,
f){if(null===f)b.render(d,[]),b.unsubscribe(d);else{if(null==f.view&&"function"!==typeof f)throw Error("m.mount(element, component) expects a component, not a vnode");b.subscribe(d,function(){b.render(d,B(f))});b.redraw()}}}(I);var U=x,M=function(b){if(""===b||null==b)return{};"?"===b.charAt(0)&&(b=b.slice(1));b=b.split("&");for(var d={},f={},g=0;g<b.length;g++){var e=b[g].split("="),n=decodeURIComponent(e[0]);e=2===e.length?decodeURIComponent(e[1]):"";"true"===e?e=!0:"false"===e&&(e=!1);var h=n.split(/\]\[?|\[/),
q=d;-1<n.indexOf("[")&&h.pop();for(var m=0;m<h.length;m++){n=h[m];var k=h[m+1];k=""==k||!isNaN(parseInt(k,10));var t=m===h.length-1;""===n&&(n=h.slice(0,m).join(),null==f[n]&&(f[n]=0),n=f[n]++);null==q[n]&&(q[n]=t?e:k?[]:{});q=q[n]}}return d},V=function(b){function d(d){var e=b.location[d].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===d&&"/"!==e[0]&&(e="/"+e);return e}function f(b){return function(){null==h&&(h=n(function(){h=null;b()}))}}function g(b,d,e){var a=b.indexOf("?"),
f=b.indexOf("#"),g=-1<a?a:-1<f?f:b.length;if(-1<a){a=M(b.slice(a+1,-1<f?f:b.length));for(var h in a)d[h]=a[h]}if(-1<f)for(h in d=M(b.slice(f+1)),d)e[h]=d[h];return b.slice(0,g)}var e="function"===typeof b.history.pushState,n="function"===typeof setImmediate?setImmediate:setTimeout,h,q={prefix:"#!",getPath:function(){switch(q.prefix.charAt(0)){case "#":return d("hash").slice(q.prefix.length);case "?":return d("search").slice(q.prefix.length)+d("hash");default:return d("pathname").slice(q.prefix.length)+
d("search")+d("hash")}},setPath:function(d,f,h){var a={},k={};d=g(d,a,k);if(null!=f){for(var m in f)a[m]=f[m];d=d.replace(/:([^\/]+)/g,function(b,d){delete a[d];return f[d]})}(m=F(a))&&(d+="?"+m);(k=F(k))&&(d+="#"+k);e?(k=h?h.state:null,m=h?h.title:null,b.onpopstate(),h&&h.replace?b.history.replaceState(k,m,q.prefix+d):b.history.pushState(k,m,q.prefix+d)):b.location.href=q.prefix+d},defineRoutes:function(d,h,n){function a(){var a=q.getPath(),e={},f=g(a,e,e),k=b.history.state;if(null!=k)for(var m in k)e[m]=
k[m];for(var t in d)if(k=new RegExp("^"+t.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$"),k.test(f)){f.replace(k,function(){for(var b=t.match(/:[^\/]+/g)||[],f=[].slice.call(arguments,1,-2),g=0;g<b.length;g++)e[b[g].replace(/:|\./g,"")]=decodeURIComponent(f[g]);h(d[t],e,a,t)});return}n(a,e)}e?b.onpopstate=f(a):"#"===q.prefix.charAt(0)&&(b.onhashchange=a);a()}};return q};D.route=function(b,d){var f=V(b),g=function(b){return b},e,n,h,q,m,k=function(b,a,k){if(null==b)throw Error("Ensure the DOM element that was passed to `m.route` is not undefined");
var t=function(){null!=e&&d.render(b,e(B(n,h.key,h)))},w=function(b){if(b!==a)f.setPath(a,null,{replace:!0});else throw Error("Could not resolve default route "+a);};f.defineRoutes(k,function(a,b,d){var f=m=function(a,k){f===m&&(n=null==k||"function"!==typeof k.view&&"function"!==typeof k?"div":k,h=b,q=d,m=null,e=(a.render||g).bind(a),t())};a.view||"function"===typeof a?f({},a):a.onmatch?U.resolve(a.onmatch(b,d)).then(function(b){f(a,b)},w):f(a,"div")},w);d.subscribe(b,t)};k.set=function(b,a,d){null!=
m&&(d=d||{},d.replace=!0);m=null;f.setPath(b,a,d)};k.get=function(){return q};k.prefix=function(b){f.prefix=b};k.link=function(b){b.dom.setAttribute("href",f.prefix+b.attrs.href);b.dom.onclick=function(a){a.ctrlKey||a.metaKey||a.shiftKey||2===a.which||(a.preventDefault(),a.redraw=!1,a=this.getAttribute("href"),0===a.indexOf(f.prefix)&&(a=a.slice(f.prefix.length)),k.set(a,void 0,void 0))}};k.param=function(b){return"undefined"!==typeof h&&"undefined"!==typeof b?h[b]:h};return k}(window,I);D.withAttr=
function(b,d,f){return function(g){d.call(f||this,b in g.currentTarget?g.currentTarget[b]:g.currentTarget.getAttribute(b))}};var W=P(window);D.render=W.render;D.redraw=I.redraw;D.request=L.request;D.jsonp=L.jsonp;D.parseQueryString=M;D.buildQueryString=F;D.version="1.1.6";D.vnode=B;"undefined"!==typeof module?module.exports=D:window.m=D})();

/**
* Sutton SignWriting JavaScript Library v2.2.0
* https://github.com/Slevinski/SuttonSignWriting
* Copyright (c) 2007-2018, Stephen E Slevinski Jr
* SuttonSignWriting.min.js is released under the MIT License.
*/
var ssw={re:{fsw:{sign:"(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]([0-9]{3}x[0-9]{3})(S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3})*",spatial:"S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}",symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]",query:"Q((A(S[123][0-9a-f]{2}[0-5u][0-9a-fu]|R[123][0-9a-f]{2}t[123][0-9a-f]{2})+)?T)?((R[123][0-9a-f]{2}t[123][0-9a-f]{2}([0-9]{3}x[0-9]{3})?)|(S[123][0-9a-f]{2}[0-5u][0-9a-fu]([0-9]{3}x[0-9]{3})?))*(V[0-9]+)?-?"},swu:{sign:"(\uD836\uDC00(((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FB][\uDC00-\uDFFF])|(\uD8FC[\uDC00-\uDEA0])))+)?\uD836[\uDC01-\uDC04](\uD836[\uDC0C-\uDDFF]){2}(((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FA][\uDC00-\uDFFF])|(\uD8FB[\uDC00-\uDFA0]))(\uD836[\uDC0C-\uDDFF]){2})*",spatial:"((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FC][\uDC00-\uDFFF])|(\uD8FD[\uDC00-\uDC80]))(\uD836[\uDC0C-\uDDFF]){2}",symbol:"((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FC][\uDC00-\uDFFF])|(\uD8FD[\uDC00-\uDC80]))",coord:"(\uD836[\uDC0C-\uDDFF]){2}",sort:"\uD836\uDC00",box:"\uD836[\uDC01-\uDC04]",query:"Q((A(((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FC][\uDC00-\uDFFF])|(\uD8FD[\uDC00-\uDC80]))f?r?|R((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FC][\uDC00-\uDFFF])|(\uD8FD[\uDC00-\uDC80]))f?r?((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FC][\uDC00-\uDFFF])|(\uD8FD[\uDC00-\uDC80]))f?r?)+)?T)?((R((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FC][\uDC00-\uDFFF])|(\uD8FD[\uDC00-\uDC80]))f?r?((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FC][\uDC00-\uDFFF])|(\uD8FD[\uDC00-\uDC80]))f?r?(\uD836[\uDC0C-\uDDFF]\uD836[\uDC0C-\uDDFF])?)|(((\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FC][\uDC00-\uDFFF])|(\uD8FD[\uDC00-\uDC80]))f?r?(\uD836[\uDC0C-\uDDFF]\uD836[\uDC0C-\uDDFF])?))*(V[0-9]+)?-?"},style:"-C?(P[0-9]{2})?(G_([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)_)?(D_([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)(,([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+))?_)?(Z([0-9]+(.[0-9]+)?|x))?(-(D[0-9]{2}_([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)(,([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+))?_)*(Z[0-9]{2},[0-9]+(.[0-9]+)?(,[0-9]{3}x[0-9]{3})?)*)?(--?[_a-zA-Z][_a-zA-Z0-9-]{0,100}( -?[_a-zA-Z][_a-zA-Z0-9-]{0,100})*!([a-zA-Z][_a-zA-Z0-9-]{0,100}!)?)?"},encode:function(s){return s=s.replace(/[\u007F-\uFFFF]/g,function(s){return"\\u"+("0000"+s.charCodeAt(0).toString(16)).substr(-4).toUpperCase()})},decode:function(s){return s=s.replace(/\\u([0-9A-F]{4})/g,function(s,e){return String.fromCharCode(parseInt(e,16))})},pair:function(s){var e;"swu"==ssw.chars(s)&&(s=ssw.swu2hex(s));if(!s.match(new RegExp("[0-9A-F]{5}")))return!1;e=parseInt(s,16);var r=String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023));return!(!s||2!=r.length)&&[r.charCodeAt(0).toString(16).toUpperCase(),r.charCodeAt(1).toString(16).toUpperCase()]},chars:function(s){if(!s)return"";if(e="^[A-F0-9]{5}",s.match(new RegExp(e)))return"hex";e="^[ABLMRSxa-f0-9]{5,}";if(s.match(new RegExp(e)))return"fsw";if(e="^[0-9]{3}",s.match(new RegExp(e)))return"num";var e="^((\uD836[\uDC00-\uDDFF])|(\uD8C0[\uDC01-\uDFFF])|([\uD8C1-\uD8FC][\uDC00-\uDFFF])|(\uD8FD[\uDC00-\uDC80]))+";return s.match(new RegExp(e))?"swu":""},parse:function(s,e,r){var a,t,n,i,w=e||r?"":"^";switch(e||ssw.chars(s)){case"hex":a=w+"[A-F0-9]{5}";var f=s.match(new RegExp(a,r?"g":""));if(f)return i={chars:"hex",hex:f[0]},r?i.all=f:i.line=s,i;break;case"num":a=w+"[0-9]{3}";var c=s.match(new RegExp(a,r?"g":""));if(c)return i={chars:"num",num:c[0]},r?i.all=c:i.line=s,i;break;case"fsw":if(a=r?w+"("+ssw.re.fsw.sign+"("+ssw.re.style+")?|"+ssw.re.fsw.spatial+"("+ssw.re.style+")?)":w+ssw.re.fsw.sign+"("+ssw.re.style+")?",t=s.match(new RegExp(a,r?"g":"")))return i={chars:"fsw",type:"sign"},r?i.all=t:i.line=s,n=t[0].indexOf("-"),n>-1?(i.fsw=t[0].slice(0,n),i.style=t[0].slice(n)):i.fsw=t[0],i;if(a=w+ssw.re.fsw.spatial+"("+ssw.re.style+")?",t=s.match(new RegExp(a,r?"g":"")))return i={chars:"fsw",type:"spatial"},r?i.all=t:i.line=s,n=t[0].indexOf("-"),n>-1?(i.fsw=t[0].slice(0,n),i.style=t[0].slice(n)):i.fsw=t[0],i;if(a=w+ssw.re.fsw.symbol+"("+ssw.re.style+")?",t=s.match(new RegExp(a,r?"g":"")))return i={chars:"fsw",type:"symbol"},r?i.all=t:i.line=s,n=t[0].indexOf("-"),n>-1?(i.fsw=t[0].slice(0,n),i.style=t[0].slice(n)):i.fsw=t[0],i;if(a=w+ssw.re.fsw.coord,t=s.match(new RegExp(a,r?"g":"")))return i={chars:"fsw",type:"coord",fsw:t[0]},r?i.all=t:i.line=s,i;break;case"swu":if(a=r?w+"("+ssw.re.swu.sign+"("+ssw.re.style+")?|"+ssw.re.swu.spatial+"("+ssw.re.style+")?)":w+ssw.re.swu.sign+"("+ssw.re.style+")?",t=s.match(new RegExp(a,r?"g":"")))return i={chars:"swu",type:"sign"},r?i.all=t:i.line=s,n=t[0].indexOf("-"),n>-1?(i.swu=t[0].slice(0,n),i.style=t[0].slice(n)):i.swu=t[0],i;if(a=w+ssw.re.swu.spatial+"("+ssw.re.style+")?",t=s.match(new RegExp(a,r?"g":"")))return i={chars:"swu",type:"spatial"},r?i.all=t:i.line=s,n=t[0].indexOf("-"),n>-1?(i.swu=t[0].slice(0,n),i.style=t[0].slice(n)):i.swu=t[0],i;if(a=w+ssw.re.swu.symbol+"("+ssw.re.style+")?",t=s.match(new RegExp(a,r?"g":"")))return i={chars:"swu",type:"symbol"},r?i.all=t:i.line=s,n=t[0].indexOf("-"),n>-1?(i.swu=t[0].slice(0,n),i.style=t[0].slice(n)):i.swu=t[0],i;if(a=w+ssw.re.swu.coord,t=s.match(new RegExp(a,r?"g":"")))return i={chars:"swu",type:"coord",swu:t[0]},r?i.all=t:i.line=s,i}return!1},fsw2swu:function(s){if(!s)return"";var e,r,a,t=parseInt("1D800",16),n=s.replace(/B/g,"B!"),i=(n=(n=(n=(n=(n=n.replace(/A/g,String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023)))).replace(/B!/g,String.fromCharCode(55296+(t+1-65536>>10),56320+(t+1-65536&1023)))).replace(/L/g,String.fromCharCode(55296+(t+2-65536>>10),56320+(t+2-65536&1023)))).replace(/M/g,String.fromCharCode(55296+(t+3-65536>>10),56320+(t+3-65536&1023)))).replace(/R/g,String.fromCharCode(55296+(t+4-65536>>10),56320+(t+4-65536&1023)))).match(new RegExp(ssw.re.fsw.coord,"g"));f=i?i.length:0;var w;for(w=0;w<f;w+=1)r=(r=(e=i[w]).split("x")).map(function(s){return s=120844+parseInt(s)-250,String.fromCharCode(55296+(s-65536>>10),56320+(s-65536&1023))}),n=n.replace(e,r.join(""));var f=(i=n.match(new RegExp("S[123][0-9a-f]{2}[0-5][0-9a-f]","g")))?i.length:0;for(w=0;w<f;w+=1)a=i[w],n=n.replace(a,ssw.uni(a,"4"));return n},swu2fsw:function(s){if(!s)return"";var e=s.replace(/ð €/g,"A").replace(/ð /g,"B").replace(/ð ‚/g,"L").replace(/ð ƒ/g,"M").replace(/ð „/g,"R"),r=e.match(new RegExp(ssw.re.swu.symbol,"g"));r&&r.forEach(function(s){var r=ssw.swu2hex(s),a=parseInt(r.slice(1),16)-1,t=parseInt(a/96),n="S"+(t+256).toString(16),i=parseInt((a-96*t)/16);n+=i.toString(16),n+=parseInt(a-96*t-16*i).toString(16),e=e.replace(s,n)});var a=e.match(new RegExp(ssw.re.swu.coord,"g"));return a&&a.forEach(function(s){var r=parseInt(ssw.swu2hex(s.slice(0,2)),16)-120844+250,a=parseInt(ssw.swu2hex(s.slice(2,4)),16)-120844+250;if(!(r>=250&&r<749&&a>=250&&a<749))throw"invalid numbers: "+r+", "+a;e=e.replace(s,r+"x"+a)}),e},swu2hex:function(s){if(s.codePointAt(0)){var e=s.codePointAt(0).toString(16).toUpperCase();return!(e.length<=4)&&e}return!1},symbol:function(s,e){var r;switch(ssw.parse(s).chars){case"swu":r=ssw.re.swu.symbol+"("+ssw.re.swu.coord+")?";break;case"fsw":r=ssw.re.fsw.symbol+"("+ssw.re.fsw.coord+")?";break;default:return""}e&&(r+="("+ssw.re.style+")?");var a=s.match(new RegExp(r));return a?a[0]:""},sign:function(s,e){var r;switch(ssw.parse(s).chars){case"swu":r=ssw.re.swu.sign;break;case"fsw":r=ssw.re.fsw.sign;break;default:return""}e&&(r+="("+ssw.re.style+")?");var a=s.match(new RegExp(r));return a?a[0]:ssw.symbol(s,e)},mirror:function(s){s=ssw.symbol(s);var e,r=ssw.parse(s);switch(r.chars){case"swu":e=s.slice(2),s=ssw.swu2fsw(s.slice(0,2));break;case"fsw":e=s.slice(6),s=ssw.swu2fsw(s.slice(0,6));break;default:return!1}if(!ssw.size(s))return"";var a,t=s.slice(0,4),n=s.slice(4,5),i=parseInt(s.slice(5,6),16),w=t+"08",f=t+"18";for(ssw.size(w)||ssw.size(f)?a=8:(0!==i&&4!=i||(a=0),1!=i&&5!=i||(a=6),2!=i&&6!=i||(a=4),3!=i&&7!=i||(a=2)),s="";!ssw.size(s);)(i+=a)>7&&a<8&&(i-=8),i>15&&(i-=16),s=t+n+i.toString(16);return"swu"==r.chars&&(s=ssw.fsw2swu(s)),s+e},fill:function(s,e){s=ssw.symbol(s);var r,a=ssw.parse(s);switch(a.chars){case"swu":r=s.slice(2),s=ssw.swu2fsw(s.slice(0,2));break;case"fsw":r=s.slice(6),s=ssw.swu2fsw(s.slice(0,6));break;default:return!1}if(!ssw.size(s))return"";-1!=e&&(e=1);var t=s.slice(0,4),n=parseInt(s.slice(4,5)),i=s.slice(5,6);for(s="";!ssw.size(s);)(n+=e)>5&&(n=0),n<0&&(n=5),s=t+n+i;return"swu"==a.chars&&(s=ssw.fsw2swu(s)),s+r},rotate:function(s,e){s=ssw.symbol(s);var r,a=ssw.parse(s);switch(a.chars){case"swu":r=s.slice(2),s=ssw.swu2fsw(s.slice(0,2));break;case"fsw":r=s.slice(6),s=ssw.swu2fsw(s.slice(0,6));break;default:return!1}if(!ssw.size(s))return"";-1!=e&&(e=1);var t=s.slice(0,4),n=s.slice(4,5),i=parseInt(s.slice(5,6),16);for(s="";!ssw.size(s);)i>7?((i+=e)>15&&(i=8),i<8&&(i=15),s=t+n+i.toString(16)):((i-=e)>7&&(i=0),i<0&&(i=7),s=t+n+i);return"swu"==a.chars&&(s=ssw.fsw2swu(s)),s+r},scroll:function(s,e){s=ssw.symbol(s);var r,a=ssw.parse(s);switch(a.chars){case"swu":r=s.slice(2),s=ssw.swu2fsw(s.slice(0,2));break;case"fsw":r=s.slice(6),s=ssw.swu2fsw(s.slice(0,6));break;default:return!1}if(!ssw.size(s))return"";-1!=e&&(e=1);var t=parseInt(s.slice(1,4),16)+e,n=s.slice(4,5),i=s.slice(5,6),w="S"+t.toString(16)+n+i;return ssw.size(w)?s=w:(w=ssw.view(w),ssw.size(w)&&(s=w)),"swu"==a.chars&&(s=ssw.fsw2swu(s)),s+r},structure:function(s,e,r){switch(e=ssw.symbol(e),ssw.parse(e).chars){case"swu":e=ssw.swu2fsw(e)}var a={kind:["S100","S37f","S387"],category:["S100","S205","S2f7","S2ff","S36d","S37f","S387"],group:["S100","S10e","S11e","S144","S14c","S186","S1a4","S1ba","S1cd","S1f5","S205","S216","S22a","S255","S265","S288","S2a6","S2b7","S2d5","S2e3","S2f7","S2ff","S30a","S32a","S33b","S359","S36d","S376","S37f","S387"]}[s];if(!a)return e?"is"!=r&&"":[];if(!e&&!r)return a;r||(r="");var t;switch(r){case"is":return-1!=a.indexOf(e.slice(0,4));case"first":return a[0];case"last":return a.slice(-1)[0];case"prev":t=-2;break;case"":t=-1;break;case"next":t=0;break;default:return""}var n,i=a.length;for(n=0;n<a.length;n+=1)if(parseInt(e.slice(1,4),16)<parseInt(a[n].slice(1,4),16)){i=n;break}return i+=t,i=i<0?0:i>=a.length?a.length-1:i,a[i]},type:function(s){var e,r;switch(s){case"writing":e="100",r="37e";break;case"hand":e="100",r="204";break;case"movement":e="205",r="2f6";break;case"dynamic":e="2f7",r="2fe";break;case"head":case"hcenter":e="2ff",r="36c";break;case"vcenter":e="2ff",r="375";break;case"trunk":e="36d",r="375";break;case"limb":e="376",r="37e";break;case"location":e="37f",r="386";break;case"punctuation":e="387",r="38b";break;default:e="100",r="38b"}return[e,r]},is:function(s,e){switch(s=ssw.symbol(s),ssw.parse(s).chars){case"swu":s=ssw.swu2fsw(s);case"fsw":break;default:return!1}var r=ssw.type(e),a=r[0],t=r[1],n=s.slice(1,4);return parseInt(a,16)<=parseInt(n,16)&&parseInt(t,16)>=parseInt(n,16)},filter:function(s,e){var r;switch(ssw.chars(s)){case"swu":r=ssw.parse(s,"swu","spatials"),s=ssw.swu2fsw((r.all||[]).join(""));break;case"fsw":s=((r=ssw.parse(s,"fsw","spatials")).all||[]).join("");break;default:return""}var a=ssw.type(e),t=a[0],n=a[1],i="S"+ssw.range(t,n,1)+"[0-5][0-9a-f][0-9]{3}x[0-9]{3}",w=s.match(new RegExp(i,"g"));return w?(s=w.join(""),"swu"==r.chars&&(s=ssw.fsw2swu(s)),s):""},random:function(s,e){var r=ssw.type(s),a=r[0],t=r[1],n=Math.floor(Math.random()*(parseInt(t,16)-parseInt(a,16)+1)+parseInt(a,16)),i=Math.floor(6*Math.random()),w=Math.floor(16*Math.random()),f="S"+n.toString(16)+i.toString(16)+w.toString(16);return ssw.size(f)?e?ssw.fsw2swu(f):f:ssw.random(s,e)},colorize:function(s){s=ssw.symbol(s),"swu"==ssw.chars(s)&&(s=ssw.swu2fsw(s));var e="000000";return ssw.is(s,"hand")&&(e="0000CC"),ssw.is(s,"movement")&&(e="CC0000"),ssw.is(s,"dynamic")&&(e="FF0099"),ssw.is(s,"head")&&(e="006600"),ssw.is(s,"location")&&(e="884411"),ssw.is(s,"punctuation")&&(e="FF9900"),e},view:function(s,e){s=ssw.symbol(s);var r=ssw.chars(s);if("swu"==r&&(s=ssw.swu2fsw(s)),!ssw.is(s))return"";var a=s.slice(0,4);return s=e?a+(ssw.size(a+"00")?"0":"1")+"0":a+(ssw.is(s,"hand")&&!ssw.structure("group",s,"is")?"1":"0")+"0","swu"==r?ssw.fsw2swu(s):s},uni:function(s,e,r){var a,t,n,i=ssw.parse(s);switch(i.chars){case"swu":a=ssw.re.swu.symbol;break;case"fsw":a=ssw.re.fsw.symbol;break;case"hex":a="[0-9A-F]{5}";break;default:return!1}var w,f=s.match(new RegExp(a,"g")),c=f?f.length:0;for(t=0;t<c;t+=1){switch(n=f[t],i.chars){case"swu":n=ssw.swu2fsw(n);case"fsw":w=parseInt(e+"0000",16)+96*(parseInt(n.slice(1,4),16)-256)+16*parseInt(n.slice(4,5),16)+parseInt(n.slice(5,6),16)+1;break;case"hex":w=parseInt(n,16)}n=n.replace(n.substr(0,6),r?w.toString(16).toUpperCase():String.fromCharCode(55296+(w-65536>>10),56320+(w-65536&1023))),s=s.replace(f[t],n)}return s},bbox:function(s){var e=ssw.chars(s);"swu"==e&&(s=ssw.swu2fsw(s));var r,a,t,n,i,w,f=/[0-9]{3}x[0-9]{3}/g,c=s.match(f);if(c){var l;for(l=0;l<c.length;l+=1)r=parseInt(c[l].slice(0,3)),a=parseInt(c[l].slice(4,7)),0===l?(t=r,n=r,i=a,w=a):(t=Math.min(t,r),n=Math.max(n,r),i=Math.min(i,a),w=Math.max(w,a));return t==n&&i==w&&(t>500?t=1e3-t:n=1e3-n,i>500?i=1e3-i:w=1e3-w),"swu"==e?ssw.fsw2swu(t+"x"+n+i+"x"+w):t+" "+n+" "+i+" "+w}return""},displace:function(s,e,r){var a=ssw.chars(s);"swu"==a&&(s=ssw.swu2fsw(s));var t,n,i=s.match(new RegExp("[0-9]{3}x[0-9]{3}","g"));if(i){var w;for(w=0;w<i.length;w+=1)t=parseInt(i[w].slice(0,3))+e,n=parseInt(i[w].slice(4,7))+r,s=s.replace(i[w],t+"X"+n);s=s.replace(/X/g,"x")}return"swu"==a?ssw.fsw2swu(s):s},sizes:{},size:function(s){var e=ssw.parse(s);switch(e.chars){case"swu":s=ssw.swu2fsw(s);break;case"fsw":break;default:return!1}if("sign"==e.type||"spatial"==e.type){var r=ssw.bbox(ssw.sign(s)),a=(r=r.split(" "))[0],t=r[1],n=r[2];return c=t-a+"x"+(r[3]-n),"0x0"==c?"":c}ssw.sign(s);var i,w,f,c,l=ssw.symbol(s);if(!l)return"";if(ssw.sizes[l])return ssw.sizes[l];var u,p;ssw.canvaser||(ssw.canvaser=document.createElement("canvas"),ssw.canvaser.width=152,ssw.canvaser.height=152);var o=ssw.canvaser.getContext("2d");o.clearRect(0,0,152,152),o.font="60px 'SuttonSignWritingLine'",o.fillText(ssw.uni(l,"F"),0,0),u=o.getImageData(0,0,152,152).data;s:for(i=151;i>=0;i--)for(w=0;w<152;w+=1)for(f=0;f<4;f+=1)if(p=4*i+4*w*152+f,u[p])break s;var g=i;s:for(w=151;w>=0;w--)for(i=0;i<g;i+=1)for(f=0;f<4;f+=1)if(p=4*i+4*w*152+f,u[p])break s;var Z=w+1;if(g=""+Math.ceil(g/2),Z=""+Math.ceil(Z/2),"S19559".indexOf(l)>-1&&(g="19"),"S16d03 S16d0f S16d1f S16d2f S16d23 S16d43 S16d53 S1710d S1711d S1712d S17311 S17321 S17733 S1773f S17743 S1774f S17753 S1775f S16d33 S1713d S1714d S17301 S17329 S1715d".indexOf(l)>-1&&(g="20"),"S24c15 S24c30".indexOf(l)>-1&&(g="22"),"S2903b".indexOf(l)>-1&&(g="23"),"S1d203 S1d233".indexOf(l)>-1&&(g="25"),"S24c15".indexOf(l)>-1&&(g="28"),"S2e629".indexOf(l)>-1&&(g="29"),"S23425".indexOf(l)>-1&&(g="30"),"S2d316".indexOf(l)>-1&&(g="40"),"S2541a".indexOf(l)>-1&&(g="50"),"S1732f S17731 S17741 S17751".indexOf(l)>-1&&(Z="20"),"S1412c".indexOf(l)>-1&&(Z="21"),"S2a903".indexOf(l)>-1&&(Z="31"),"S2b002".indexOf(l)>-1&&(Z="36"),"0x0"==(c=g+"x"+Z)){var h="S1000815x30 S1000921x30 S1000a30x15 S1000b30x21 S1000c15x30 S1000d21x30 ",x=h.indexOf(l);if(-1==x)c="";else{var d=h.indexOf(" ",x);c=h.slice(x+6,d)}}else ssw.sizes[l]=c;return c},max:function(s,e){var r=ssw.chars(s);"swu"==r&&(s=ssw.swu2fsw(s));var a=ssw.type(e),t=a[0],n=a[1],i="S"+ssw.range(t,n,1)+"[0-5][0-9a-f][0-9]{3}x[0-9]{3}",w=s.match(new RegExp(i,"g"));if(w){var f,c,l,u,p,o="";for(p=0;p<w.length;p+=1)f=w[p].slice(0,6),c=parseInt(w[p].slice(6,9)),l=parseInt(w[p].slice(10,13)),u=ssw.size(f).split("x"),o+=f+c+"x"+l+(c+parseInt(u[0]))+"x"+(l+parseInt(u[1]));return"swu"==r?ssw.fsw2swu(o):o}return""},norm:function(s){var e=ssw.chars(s);"swu"==e&&(s=ssw.swu2fsw(s));var r,a,t,n,i=ssw.bbox(ssw.max(s,"hcenter")),w=ssw.bbox(ssw.max(s,"vcenter")),f=ssw.bbox(ssw.max(s));if(!f)return"";w?(r=parseInt(w.slice(0,3)),a=parseInt(w.slice(4,7))):(r=parseInt(f.slice(0,3)),a=parseInt(f.slice(4,7))),i?(t=parseInt(i.slice(8,11)),n=parseInt(i.slice(12,15))):(t=parseInt(f.slice(8,11)),n=parseInt(f.slice(12,15)));var c=500-parseInt((r+a)/2),l=500-parseInt((t+n)/2),u=s.match(/(A(S[123][0-9a-f]{2}[0-5][0-9a-f])+)?[BLMR]/);return u=u?u[0]:"M",s=u+parseInt(f.slice(4,7))+"x"+parseInt(f.slice(12,15))+ssw.filter(s),s=ssw.displace(s,c,l),"swu"==e?ssw.fsw2swu(s):s},svg:function(s,e){var r=ssw.sign(s,!0),a=ssw.parse(r),t=a.chars;if("swu"==t&&(r=ssw.swu2fsw(r)),!r)return"";var n;(w=r.indexOf("-"))>-1&&(n=r.slice(w));var i,w,f,c,l,u;if("symbol"==a.type){var p=ssw.symbol(r);if(!(f=ssw.size(p)))return"";r=6==p.length?p+"500x500":p}if(e||(e={}),e.size?e.size=parseFloat(e.size)||"x":e.size=1,e.colorize?e.colorize=!0:e.colorize=!1,e.pad?e.pad=parseInt(e.pad):e.pad=0,e.line?e.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.line)?"#"+e.line:e.line:e.line="black",e.fill?e.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.fill)?"#"+e.fill:e.fill:e.fill="white",e.back?e.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.back)?"#"+e.back:e.back:e.back="",e.E=[],e.F=[],e.copy=e.copy||t,n){var o;if(i=n.split("-"),o=i[1].match(/C/),e.colorize=!!o,(o=i[1].match(/P[0-9]{2}/))&&(e.pad=parseInt(o[0].substring(1,o[0].length))),o=i[1].match(/G_([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)_/)){var g=o[0].substring(2,o[0].length-1);e.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(g)?"#"+g:g}if((o=i[1].match(/D_([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+))?_/))&&((c=o[0].substring(2,o[0].length-1).split(","))[0]&&(e.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(c[0])?"#"+c[0]:c[0]),c[1]&&(e.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(c[1])?"#"+c[1]:c[1])),(o=i[1].match(/Z([0-9]+(\.[0-9]+)?|x)/))&&(e.size=parseFloat(o[0].substring(1,o[0].length))||"x"),i[2]||(i[2]=""),o=i[2].match(/D[0-9]{2}_([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+))?_/g))for(l=0;l<o.length;l+=1)w=parseInt(o[l].substring(1,3)),(c=o[l].substring(4,o[l].length-1).split(","))[0]&&(c[0]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(c[0])?"#"+c[0]:c[0]),c[1]&&(c[1]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(c[1])?"#"+c[1]:c[1]),e.E[w]=c;if(o=i[2].match(/Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?/g))for(l=0;l<o.length;l+=1)w=parseInt(o[l].substring(1,3)),(u=o[l].substring(4,o[l].length).split(","))[0]=parseFloat(u[0]),e.F[w]=u;i.length>3&&(i=i.slice(3).join("-").split("!"),e.class=i[0]?i[0]:"",e.id=i[1]?i[1]:"")}var Z,h,x,d=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g,F={};F.L=-1,F.R=1;var D,b,S,m,C,v,I=500,y=500,U=500,A=500;S=r.charAt(0);var k=ssw.bbox(r);k=k.split(" "),I=parseInt(k[0]),y=parseInt(k[1]),U=parseInt(k[2]),A=parseInt(k[3]),"S"==S&&(500==I&&500==U?(u=f.split("x"),y=500+parseInt(u[0]),A=500+parseInt(u[1])):(y=1e3-I,A=1e3-U)),(h=r.match(d))||(h=[]);var z;for(l=0;l<h.length;l+=1)Z=h[l].slice(0,6),D=h[l].slice(6,9),b=h[l].slice(10,13),e.F[l+1]&&(e.F[l+1][1]&&(D=parseInt(D)+parseInt(e.F[l+1][1].slice(0,3))-500,b=parseInt(b)+parseInt(e.F[l+1][1].slice(4,7))-500,I=Math.min(I,D),U=Math.min(U,b)),(z=ssw.size(Z))&&(z=z.split("x"),y=Math.max(y,parseInt(D)+e.F[l+1][0]*parseInt(z[0])),A=Math.max(A,parseInt(b)+e.F[l+1][0]*parseInt(z[1])))),x='<g transform="translate('+D+","+(b=parseInt(b))+')">',x+="<text ",x+='class="sym-fill" ',e.css||(x+="style=\"pointer-events:none;font-family:'SuttonSignWritingFill';font-size:"+(e.F[l+1]?30*e.F[l+1][0]:30)+"px;fill:"+(e.E[l+1]&&e.E[l+1][1]?e.E[l+1][1]:e.fill)+";",x+='"'),x+=">",x+=ssw.uni(Z,"10"),x+="</text>",x+="<text ",x+='class="sym-line" ',e.css||(x+='style="pointer-events:none;',x+="font-family:'SuttonSignWritingLine';font-size:"+(e.F[l+1]?30*e.F[l+1][0]:30)+"px;fill:"+(e.E[l+1]?e.E[l+1][0]:e.colorize?"#"+ssw.colorize(Z):e.line)+";",x+='"'),x+=">",x+=ssw.uni(Z,"F"),x+="</text>",x+="</g>",h[l]=x;I-=e.pad,y+=e.pad,U-=e.pad,m=y-I,C=(A+=e.pad)-U,v=75*(v=F[S]||0)+I-400;var R="<svg ";return e.class&&(R+='class="'+e.class+'" '),e.id&&(R+='id="'+e.id+'" '),R+='version="1.1" xmlns="http://www.w3.org/2000/svg" ',"x"!=e.size&&(R+='width="'+m*e.size+'" height="'+C*e.size+'" '),R+='viewBox="'+I+" "+U+" "+m+" "+C+'">',R+='<text style="font-size:0%;">',"swu"==e.copy?R+=ssw.fsw2swu(r):R+=s,R+="</text>",e.back&&(R+='  <rect x="'+I+'" y="'+U+'" width="'+m+'" height="'+C+'" style="fill:'+e.back+';" />'),R+=h.join("")+"</svg>",e.laned&&(R='<div style="padding:10px;position:relative;width:'+m+"px;height:"+C+"px;left:"+v+'px;">'+R+"</div>"),R},canvas:function(s,e){var r=document.createElement("canvas"),a=ssw.sign(s,!0),t=ssw.parse(a);"swu"==ssw.chars(a)&&(a=ssw.swu2fsw(a));var n;(p=a.indexOf("-"))>-1&&(n=a.slice(p));var i,w,f,c,l,u,p;if("symbol"==t.type){var o=ssw.symbol(a);if(f=ssw.size(o),!o)return"";a=6==o.length?o+"500x500":o}if(e||(e={}),e.size?e.size=parseFloat(e.size):e.size=1,e.colorize?e.colorize=!0:e.colorize=!1,e.pad?e.pad=parseInt(e.pad):e.pad=0,e.line?e.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.line)?"#"+e.line:e.line:e.line="black",e.fill?e.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.fill)?"#"+e.fill:e.fill:e.fill="white",e.back?e.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(e.back)?"#"+e.back:e.back:e.back="",e.E=[],e.F=[],n){var g;if(i=n.split("-"),g=i[1].match(/C/),e.colorize=!!g,(g=i[1].match(/P[0-9]{2}/))&&(e.pad=parseInt(g[0].substring(1,g[0].length))),g=i[1].match(/G_([0-9a-fA-F]{3}([0-9a-fA-F]{3})?|[a-zA-Z]+)_/)){var Z=g[0].substring(2,g[0].length-1);e.back=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(Z)?"#"+Z:Z}if((g=i[1].match(/D_([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-zA-Z]+))?_/))&&((w=g[0].substring(2,g[0].length-1).split(","))[0]&&(e.line=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(w[0])?"#"+w[0]:w[0]),w[1]&&(e.fill=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(w[1])?"#"+w[1]:w[1])),(g=i[1].match(/Z[0-9]+(\.[0-9]+)?/))&&(e.size=g[0].substring(1,g[0].length)),i[2]||(i[2]=""),g=i[2].match(/D[0-9]{2}_([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+)(,([0-9a-f]{3}([0-9a-f]{3})?|[a-wyzA-Z]+))?_/g))for(u=0;u<g.length;u+=1)p=parseInt(g[u].substring(1,3)),(w=g[u].substring(4,g[u].length-1).split(","))[0]&&(w[0]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(w[0])?"#"+w[0]:w[0]),w[1]&&(w[1]=/^[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/g.test(w[1])?"#"+w[1]:w[1]),e.E[p]=w;if(g=i[2].match(/Z[0-9]{2},[0-9]+(\.[0-9]+)?(,[0-9]{3}x[0-9]{3})?/g))for(u=0;u<g.length;u+=1)p=parseInt(g[u].substring(1,3)),(l=g[u].substring(4,g[u].length).split(","))[0]=parseFloat(l[0]),e.F[p]=l}var h,x,d=/S[123][0-9a-f]{2}[0-5][0-9a-f][0-9]{3}x[0-9]{3}/g,F={};F.L=-1,F.R=1;var D,b,S,m,C,v=500,I=500,y=500,U=500;S=a.charAt(0);var A=ssw.bbox(a);A=A.split(" "),v=parseInt(A[0]),I=parseInt(A[1]),y=parseInt(A[2]),U=parseInt(A[3]),"S"==S&&(500==v&&500==y?(l=f.split("x"),I=500+parseInt(l[0]),U=500+parseInt(l[1])):(I=1e3-v,U=1e3-y));var k=(x=a.match(d))?x.length:0;for(u=0;u<k;u+=1)h=x[u].slice(0,6),D=x[u].slice(6,9),b=x[u].slice(10,13),e.F[u+1]&&(e.F[u+1][1]&&(D=parseInt(D)+parseInt(e.F[u+1][1].slice(0,3))-500,b=parseInt(b)+parseInt(e.F[u+1][1].slice(4,7))-500,v=Math.min(v,D),y=Math.min(y,b)),(c=ssw.size(h))&&(c=c.split("x"),I=Math.max(I,parseInt(D)+e.F[u+1][0]*parseInt(c[0])),U=Math.max(U,parseInt(b)+e.F[u+1][0]*parseInt(c[1]))));v-=e.pad,I+=e.pad,y-=e.pad,U+=e.pad,m=(I-v)*e.size,C=(U-y)*e.size,r.width=m||1,r.height=C||1;var z=r.getContext("2d");for(e.back&&(z.rect(0,0,m,C),z.fillStyle=e.back,z.fill()),x=a.match(d),u=0;u<k;u+=1)h=x[u].slice(0,6),D=x[u].slice(6,9),b=x[u].slice(10,13),e.F[u+1]&&(e.F[u+1][1]&&(D=parseInt(D)+parseInt(e.F[u+1][1].slice(0,3))-500,b=parseInt(b)+parseInt(e.F[u+1][1].slice(4,7))-500,v=Math.min(v,D),y=Math.min(y,b)),(c=ssw.size(h))&&(c=c.split("x"),I=Math.max(I,parseInt(D)+e.F[u+1][0]*parseInt(c[0])),U=Math.max(U,parseInt(b)+e.F[u+1][0]*parseInt(c[1])))),z.font=(e.F[u+1]?30*e.size*e.F[u+1][0]:30*e.size)+"px 'SuttonSignWritingFill'",z.fillStyle=e.E[u+1]&&e.E[u+1][1]?e.E[u+1][1]:e.fill,z.fillText(ssw.uni(h,"10"),(D-v)*e.size,(b-y)*e.size),z.font=(e.F[u+1]?30*e.size*e.F[u+1][0]:30*e.size)+"px 'SuttonSignWritingLine'",z.fillStyle=e.E[u+1]?e.E[u+1][0]:e.colorize?"#"+ssw.colorize(h):e.line,z.fillText(ssw.uni(h,"F"),(D-v)*e.size,(b-y)*e.size);return r},png:function(s,e){if("swu"==ssw.chars(s)&&(s=ssw.swu2fsw(s)),ssw.sign(s,!0)||ssw.symbol(s,!0)){var r=ssw.canvas(s,e),a=r.toDataURL("image/png");return r.remove(),a}return""},query:function(s){return"-"==s?"-":(s=s.match(new RegExp(ssw.re.fsw.query)),s?s[0]:"")},queryu:function(s){return"-"==s?"-":(s=s.match(new RegExp(ssw.re.swu.query)),s?s[0]:"")},query2swu:function(s){if(!(s=ssw.query(s)))return"";var e,r,a,t,n,i,w,f;if(e=s.match(new RegExp("[0-9]{3}x[0-9]{3}","g")))for(r=0;r<e.length;r+=1)s=s.replace(e[r],ssw.fsw2swu(e[r]));if(e=s.match(new RegExp("R[123][0-9a-f]{2}t[123][0-9a-f]{2}","g")))for(r=0;r<e.length;r+=1)a=ssw.view("S"+e[r].slice(1,4)+"00"),t=ssw.view("S"+e[r].slice(5,8)+"00"),n="R"+ssw.fsw2swu(a)+ssw.fsw2swu(t),s=s.replace(e[r],n);if(e=s.match(new RegExp("S[123][0-9a-f]{2}[0-5u][0-9a-fu]","g")))for(r=0;r<e.length;r+=1)i=e[r].slice(0,4),"u"==(w=e[r].slice(4,5))?(i+=ssw.view(i+"00").slice(4,5),w="f"):(i+=w,w=""),"u"==(f=e[r].slice(5,6))?(i+="0",f="r"):(i+=f,f=""),s=s.replace(e[r],ssw.fsw2swu(i)+w+f);return s},query2fsw:function(s){if(!(s=ssw.queryu(s)))return"";var e,r,a,t,n=ssw.re.swu.symbol,i=ssw.re.swu.coord,w="R"+n+n,f=n+"f?r?";if(e=s.match(new RegExp(i,"g")))for(r=0;r<e.length;r+=1)s=s.replace(e[r],ssw.swu2fsw(e[r]));if(e=s.match(new RegExp(w,"g")))for(r=0;r<e.length;r+=1)a="R"+ssw.swu2fsw(e[r].slice(1,3)).slice(1,4)+"t"+ssw.swu2fsw(e[r].slice(-2)).slice(1,4),s=s.replace(e[r],a);if(e=s.match(new RegExp(f,"g")))for(r=0;r<e.length;r+=1)t=ssw.swu2fsw(e[r].slice(0,2)),e[r].indexOf("f")>-1&&(t=t.slice(0,4)+"u"+t.slice(5,6)),e[r].indexOf("r")>-1&&(t=t.slice(0,5)+"u"),s=s.replace(e[r],t);return s},range:function(s,e,r){var a,t,n,i,w,f,c;if(r||(r=""),s=("000"+s).slice(-3),e=""+e,a="",s===e)return s;if(t=[],(s[0]!=e[0]||s[1]!=e[1])&&"0"!=s[2])if(a=s[0]+s[1],r){switch(s[2]){case"f":a+="f";break;case"e":a+="[ef]";break;case"d":case"c":case"b":case"a":a+="["+s[2]+"-f]";break;default:switch(s[2]){case"9":a+="[9a-f]";break;case"8":a+="[89a-f]";break;default:a+="["+s[2]+"-9a-f]"}}n=15-parseInt(s[2],16)+1,s=""+(parseInt(s,16)+n).toString(16),t.push(a)}else{switch(s[2]){case"9":a+="9";break;case"8":a+="[89]";break;default:a+="["+s[2]+"-9]"}s=""+(1*s+(n=9-s[2]+1)),t.push(a)}if(a="",s[0]!=e[0]&&"0"!=s[1])if(r){switch(a=s[0],s[1]){case"f":a+="f";break;case"e":a+="[ef]";break;case"d":case"c":case"b":case"a":a+="["+s[1]+"-f]";break;case"9":a+="[9a-f]";break;case"8":a+="[89a-f]";break;default:a+="["+s[1]+"-9a-f]"}a+="[0-9a-f]",n=15-parseInt(s[1],16)+1,s=""+(parseInt(s,16)+16*n).toString(16),t.push(a)}else{switch(a=s[0],n=9-s[1]+1,s[1]){case"9":a+="9";break;case"8":a+="[89]";break;default:a+="["+s[1]+"-9]"}a+="[0-9]",s=""+(1*s+10*(n=9-s[1]+1)),t.push(a)}if(a="",s[0]!=e[0])if(r){switch(n=parseInt(e[0],16)-parseInt(s[0],16),i=(parseInt(s[0],16)+n-1).toString(16),n){case 1:a=s[0];break;case 2:a="["+s[0]+i+"]";break;default:switch(f=parseInt(s[0],16)>9?"h":"d",c=parseInt(i,16)>9?"h":"d",f+c){case"dd":a+="["+s[0]+"-"+i+"]";break;case"dh":switch(n=9-s[0]){case 0:a+="[9";break;case 1:a+="[89";break;default:a+="["+s[0]+"-9"}switch(i[0]){case"a":a+="a]";break;case"b":a+="ab]";break;default:a+="a-"+i+"]"}break;case"hh":a+="["+s[0]+"-"+i+"]"}}a+="[0-9a-f][0-9a-f]",n=parseInt(e[0],16)-parseInt(s[0],16),s=""+(parseInt(s,16)+256*n).toString(16),t.push(a)}else{switch(n=e[0]-s[0],i=1*s[0]+n-1,n){case 1:a=s[0];break;case 2:a="["+s[0]+i+"]";break;default:a="["+s[0]+"-"+i+"]"}a+="[0-9][0-9]",s=""+(1*s+100*n),t.push(a)}if(a="",s[1]!=e[1])if(r){switch(n=parseInt(e[1],16)-parseInt(s[1],16),i=(parseInt(s[1],16)+n-1).toString(16),a=s[0],n){case 1:a+=s[1];break;case 2:a+="["+s[1]+i+"]";break;default:switch(f=parseInt(s[1],16)>9?"h":"d",c=parseInt(i,16)>9?"h":"d",f+c){case"dd":a+="["+s[1],n>1&&(a+="-"),a+=i+"]";break;case"dh":switch(n=9-s[1]){case 0:a+="[9";break;case 1:a+="[89";break;default:a+="["+s[1]+"-9"}switch(e[1]){case"a":a+="]";break;case"b":a+="a]";break;default:a+="a-"+(parseInt(e[1],16)-1).toString(16)+"]"}break;case"hh":a+="["+s[1],n>1&&(a+="-"),a+=(parseInt(e[1],16)-1).toString(16)+"]"}}a+="[0-9a-f]",n=parseInt(e[1],16)-parseInt(s[1],16),s=""+(parseInt(s,16)+16*n).toString(16),t.push(a)}else{switch(n=e[1]-s[1],i=1*s[1]+n-1,a=s[0],n){case 1:a+=s[1];break;case 2:a+="["+s[1]+i+"]";break;default:a+="["+s[1]+"-"+i+"]"}a+="[0-9]",s=""+(1*s+10*n),t.push(a)}if(a="",s[2]!=e[2])if(r){switch(a=s[0]+s[1],n=parseInt(e[2],16)-parseInt(s[2],16),f=parseInt(s[2],16)>9?"h":"d",c=parseInt(e[2],16)>9?"h":"d",f+c){case"dd":a+="["+s[2],n>1&&(a+="-"),a+=e[2]+"]";break;case"dh":switch(n=9-s[2]){case 0:a+="[9";break;case 1:a+="[89";break;default:a+="["+s[2]+"-9"}switch(e[2]){case"a":a+="a]";break;case"b":a+="ab]";break;default:a+="a-"+e[2]+"]"}break;case"hh":a+="["+s[2],n>1&&(a+="-"),a+=e[2]+"]"}n=parseInt(e[2],16)-parseInt(s[2],16),s=""+(parseInt(s,16)+n).toString(16),t.push(a)}else{switch(n=e[2]-s[2],a=s[0]+s[1],n){case 0:a+=s[2];break;case 1:a+="["+s[2]+e[2]+"]";break;default:a+="["+s[2]+"-"+e[2]+"]"}s=""+(1*s+n),t.push(a)}return a="","0"==s[2]&&"0"==e[2]&&(a=e,t.push(a)),a="",w=t.length,a=1==w?t[0]:"(("+(a=t.join(")|("))+"))"},rangeu:function(s,e){e=e||"";var r;switch(ssw.chars(s)){case"fsw":case"num":if(r=(s+"x"+e).split("x"),s=(parseInt("1D906",16)+parseInt(r[0])-500).toString(16),e=(parseInt("1D906",16)+parseInt(r[1])-500).toString(16),s<250||s>749||s<250||s>749)return!1;break;case"swu":if("coord"==(r=ssw.parse(s+e,"swu",!0)).type)s=ssw.swu2hex(r.all[0].substr(0,2)),e=ssw.swu2hex(r.all[0].substr(2,2));else{if("symbol"!=r.type)return!1;if(r.all.length<2)return!1;s=ssw.swu2hex(r.all[0]),e=ssw.swu2hex(r.all[1])}}if(s>e)return"";var a,t,n,i="",w=[];if(t=parseInt(s,16),n=String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023)),s=[n.charCodeAt(0).toString(16).toUpperCase(),n.charCodeAt(1).toString(16).toUpperCase()],t=parseInt(e,16),n=String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023)),e=[n.charCodeAt(0).toString(16).toUpperCase(),n.charCodeAt(1).toString(16).toUpperCase()],2!=s.length&&2!=e.length)return"";if(s[0]==e[0])s[1]==e[1]?(i="\\u"+s[0]+"\\u"+s[1],w.push(i)):(i="\\u"+s[0]+"[\\u"+s[1]+"-\\u"+e[1]+"]",w.push(i));else{i="DFFF"==s[1]?"\\u"+s[0]+"\\uDFFF":"\\u"+s[0]+"[\\u"+s[1]+"-\\uDFFF]",w.push(i);var f=parseInt(e[0],16)-parseInt(s[0],16);2==f&&(i="\\u"+(parseInt(s[0],16)+1).toString(16).toUpperCase(),i+="[\\uDC00-\\uDFFF]",w.push(i)),f>2&&(i="[",i+="\\u"+(parseInt(s[0],16)+1).toString(16).toUpperCase(),i+="-\\u"+(parseInt(e[0],16)-1).toString(16).toUpperCase(),i+="][\\uDC00-\\uDFFF]",w.push(i)),i="DC00"==e[1]?"\\u"+e[0]+"\\uDC00":"\\u"+e[0]+"[\\uDC00-\\u"+e[1]+"]",w.push(i)}return a=w.length,i=1==a?w[0]:"(("+(i=w.join(")|("))+"))",ssw.decode(i)},ranges:function(s){var e=s.match(new RegExp(ssw.re.swu.symbol+"f?r?"));if(e){var r,a,t=e[0].slice(0,2),n=ssw.swu2fsw(t),i=n.slice(0,4);return"fr"==e[0].slice(-2)?(r=ssw.fsw2swu(i+"00"),a=ssw.fsw2swu(i+"4f"),ssw.rangeu(r,a)):"r"==e[0].slice(-1)?(r=ssw.fsw2swu(n.slice(0,5)+"0"),a=ssw.fsw2swu(n.slice(0,5)+"f"),ssw.rangeu(r,a)):"f"==e[0].slice(-1)?"("+[0,1,2,3,4,5].map(function(s){return ssw.fsw2swu(i+s+n.slice(-1))}).join("|")+")":t}return""},regex:function(s,e){if(!(s=ssw.query(s)))return"";var r,a,t,n,i,w,f,c,l,u,p;e||(e=20);var o,g="S[123][0-9a-f]{2}[0-5][0-9a-f]",Z="[0-9]{3}x[0-9]{3}",h="[BLMR]("+Z+")("+g+Z+")*",x="(A("+g+")+)",d="R[123][0-9a-f]{2}t[123][0-9a-f]{2}",F="S[123][0-9a-f]{2}[0-5u][0-9a-fu]",D="("+ssw.re.style+")?";if("-"==s)return[q_styling];if("Q"==s)return[x+"?"+h];if("Q-"==s)return[x+"?"+h+D];if("QT"==s)return[x+h];if("QT-"==s)return[x+h+D];var b=[],S=s.indexOf("T")+1;if(S){o="(A";var m=s.slice(0,S);if(s=s.replace(m,""),"QT"==m)o+="("+g+")+)";else if(r=m.match(new RegExp("("+F+"|"+d+")","g"))){var C;for(a=0;a<r.length;a+=1)(C=r[a].match(new RegExp(F)))?(f=C[0].slice(0,4),f+="u"==(u=C[0].slice(4,5))?"[0-5]":u,o+=f+="u"==(p=C[0].slice(5,6))?"[0-9a-f]":p):(i=r[a].slice(1,4),w=r[a].slice(5,8),o+=f="S"+ssw.range(i,w,"hex")+"[0-5][0-9a-f]");o+="("+g+")*)"}}if((r=s.match(new RegExp("(V[0-9]+)","g")))&&(e=1*r.toString().slice(1)),t=F+"([0-9]{3}x[0-9]{3})?",r=s.match(new RegExp(t,"g")))for(a=0;a<r.length;a+=1)f="S"+(n=r[a].toString()).slice(1,4),f+="u"==(u=n.slice(4,5))?"[0-5]":u,f+="u"==(p=n.slice(5,6))?"[0-9a-f]":p,n.length>6?(c=1*n.slice(6,9),l=1*n.slice(10,13),f+=ssw.range(c-e,c+e),f+="x",f+=ssw.range(l-e,l+e)):f+=Z,f=h+f+"("+g+Z+")*",f=S?o+f:x+"?"+f,s.indexOf("-")>0&&(f+=D),b.push(f);if(t=d+"([0-9]{3}x[0-9]{3})?",r=s.match(new RegExp(t,"g")))for(a=0;a<r.length;a+=1)i=(n=r[a].toString()).slice(1,4),w=n.slice(5,8),f="S"+ssw.range(i,w,"hex")+"[0-5][0-9a-f]",n.length>8?(c=1*n.slice(8,11),l=1*n.slice(12,15),f+=ssw.range(c-e,c+e),f+="x",f+=ssw.range(l-e,l+e)):f+=Z,f=h+f+"("+g+Z+")*",f=S?o+f:x+"?"+f,s.indexOf("-")>0&&(f+=D),b.push(f);return b.length||(s.indexOf("-")>0&&(f+=D),b.push(o+h)),b},regexu:function(s,e){if(!(s=ssw.queryu(s)))return"";var r,a,t,n,i,w,f,c,l;e||(e=20);var u,p=ssw.re.swu.symbol,o=ssw.re.swu.coord,g=ssw.re.swu.box+o+"("+p+o+")*",Z="("+ssw.re.swu.sort+"("+p+")+)",h="R"+p+p,x=p+"f?r?",d="("+o+")?",F="("+ssw.re.style+")?";if("-"==s)return ssw.re.style;if("Q"==s)return[ssw.re.swu.sign];if("Q-"==s)return[ssw.re.swu.sign+"("+ssw.re.style+")?"];if("QT"==s)return[ssw.re.swu.sort+ssw.re.swu.symbol+"+"+ssw.re.swu.box+ssw.re.swu.coord+"("+ssw.re.swu.spatial+")*"];if("QT-"==s)return[ssw.re.swu.sort+ssw.re.swu.symbol+"+"+ssw.re.swu.box+ssw.re.swu.coord+"("+ssw.re.swu.spatial+")*("+ssw.re.style+")?"];var D,b=[],S=s.indexOf("T")+1;if(S){u="("+ssw.re.swu.sort;var m=s.slice(0,S);if(s=s.replace(m,""),"QT"==m)u+="("+p+")+)";else if(r=m.match(new RegExp("("+x+"|"+h+")","g"))){var C;for(a=0;a<r.length;a+=1)(C=r[a].match(new RegExp("^"+x)))?u+=ssw.ranges(C[0]):(n=ssw.swu2fsw(r[a].slice(1,3)),i=ssw.swu2fsw(r[a].slice(-2)),n=ssw.fsw2swu(n.slice(0,4)+"00"),i=ssw.fsw2swu(i.slice(0,4)+"5f"),u+=ssw.rangeu(n,i));u+="("+p+")*)"}}if((r=s.match(new RegExp("(V[0-9]+)","g")))&&(e=1*r.toString().slice(1)),x+d,r=s.match(new RegExp("("+h+d+"|"+x+d+")","g")))for(a=0;a<r.length;a+=1)"R"!=(t=r[a].toString())[0]?(D=t.match(new RegExp(x))[0],f=ssw.ranges(D),D.length>t.length?(w=ssw.swu2fsw(t.slice(-4)).split("x"),console.log(w),c=w[0],l=w[1],f+=ssw.rangeu(ssw.fsw2swu(c-e+"x"+(c+e))),f+=ssw.rangeu(ssw.fsw2swu(l-e+"x"+(l+e)))):f+=o,f=g+f+"("+p+o+")*",f=S?u+f:Z+"?"+f,s.indexOf("-")>0&&(f+=F),b.push(f)):(t=r[a].toString(),n=ssw.swu2fsw(t.slice(1,3)),i=ssw.swu2fsw(t.slice(3,5)),n=ssw.fsw2swu(n.slice(0,4)+"00"),i=ssw.fsw2swu(i.slice(0,4)+"5f"),f=ssw.rangeu(n,i),t.length>5?(c=(w=ssw.swu2fsw(t.slice(5,9)).split("x"))[0],l=w[1],f+=ssw.rangeu(ssw.fsw2swu(c-e+"x"+(c+e))),f+=ssw.rangeu(ssw.fsw2swu(l-e+"x"+(l+e)))):f+=o,f=g+f+"("+p+o+")*",f=S?u+f:Z+"?"+f,s.indexOf("-")>0&&(f+=F),b.push(f));return b.length||(s.indexOf("-")>0&&(f+=F),b.push(u+g)),b},results:function(s,e,r){if(!e)return[];(-1==="BLMR".indexOf(r)||r.length>1)&&(r="");var a,t,n,i,w=ssw.regex(s);if(!w)return[];var f;for(f=0;f<w.length;f+=1)a=w[f],e=(t=e.match(new RegExp(a,"g")))?t.join(" "):"";return e?(r&&(e=(e=(e=(e=e.replace(/B/g,r)).replace(/L/g,r)).replace(/M/g,r)).replace(/R/g,r)),i=(n=e.split(" ")).filter(function(s){return!(s in n)&&(n[s]=!0)},{})):i=[],i},resultsu:function(s,e,r){if(!e)return[];r&&!r.match(new RegExp(ssw.re.swu.box))&&(r="");var a,t,n,i,w=ssw.regexu(s);if(!w)return[];var f;for(f=0;f<w.length;f+=1)a=w[f],e=(t=e.match(new RegExp(a,"g")))?t.join(" "):"";return e?(r&&(e=(e=(e=(e=e.replace(/\uD836\uDC01/g,r)).replace(/\uD836\uDC02/g,r)).replace(/\uD836\uDC03/g,r)).replace(/\uD836\uDC04/g,r)),i=(n=e.split(" ")).filter(function(s){return!(s in n)&&(n[s]=!0)},{})):i=[],i},lines:function(s,e,r){if(!e)return[];(-1==="BLMR".indexOf(r)||r.length>1)&&(r="");var a,t,n,i,w=ssw.regex(s);if(!w)return[];var f;for(f=0;f<w.length;f+=1)a="^"+(a=w[f])+".*",e=(t=e.match(new RegExp(a,"mg")))?t.join("\n"):"";return e?(r&&(e=(e=(e=(e=e.replace(/B/g,r)).replace(/L/g,r)).replace(/M/g,r)).replace(/R/g,r)),i=(n=e.split("\n")).filter(function(s){return!(s in n)&&(n[s]=!0)},{})):i=[],i},linesu:function(s,e,r){if(!e)return[];r&&!r.match(new RegExp(ssw.re.swu.box))&&(r="");var a,t,n,i,w=ssw.regexu(s);if(!w)return[];var f;for(f=0;f<w.length;f+=1)a="^"+(a=w[f])+".*",e=(t=e.match(new RegExp(a,"mg")))?t.join("\n"):"";return e?(r&&(e=(e=(e=(e=e.replace(/\uD836\uDC01/g,r)).replace(/\uD836\uDC02/g,r)).replace(/\uD836\uDC03/g,r)).replace(/\uD836\uDC04/g,r)),i=(n=e.split("\n")).filter(function(s){return!(s in n)&&(n[s]=!0)},{})):i=[],i},convert:function(s,e){var r,a="";if(ssw.sign(s)&&/^[Aa]?([Ss]L?)?$/.test(e)){var t,n,i="S[123][0-9a-f]{2}[0-5][0-9a-f]";if((e.indexOf("A")>-1||e.indexOf("a")>-1)&&(t=s.match(new RegExp("A("+i+")*","g"))))if(n=t[0],e.indexOf("A")>-1)a+=n+"T";else{for(t=n.match(new RegExp("S[123][0-9a-f]{2}","g")),a+="A",r=0;r<t.length;r+=1)a+=t[r]+"uu";a+="T"}if((e.indexOf("S")>-1||e.indexOf("s")>-1)&&(t=s.match(new RegExp(i+"[0-9]{3}x[0-9]{3}","g"))))for(r=0;r<t.length;r+=1)e.indexOf("S")>-1?a+=t[r].slice(0,6):a+=t[r].slice(0,4)+"uu",e.indexOf("L")>-1&&(a+=t[r].slice(6,13))}return a?"Q"+a:""},convertu:function(s,e){var r,a="";if(ssw.sign(s)&&/^[Aa]?([Ss]L?)?$/.test(e)){var t,n;if((e.indexOf("A")>-1||e.indexOf("a")>-1)&&(t=s.match(new RegExp(ssw.re.swu.sort+"("+ssw.re.swu.symbol+")*","g"))))if(n=t[0],e.indexOf("A")>-1)a+=n.replace(/\uD836\uDC00/g,"A")+"T";else{for(t=n.match(new RegExp(ssw.re.swu.symbol,"g")),a+="A",r=0;r<t.length;r+=1)a+=t[r]+"fr";a+="T"}if((e.indexOf("S")>-1||e.indexOf("s")>-1)&&(t=s.match(new RegExp(ssw.re.swu.symbol+ssw.re.swu.coord,"g"))))for(r=0;r<t.length;r+=1)e.indexOf("S")>-1?a+=t[r].slice(0,2):a+=t[r].slice(0,2)+"fr",e.indexOf("L")>-1&&(a+=t[r].slice(2,6))}return a?"Q"+a:""},paragraph:function(s){var e=ssw.chars(s);return'<span class="outside"><span class="middle"><span class="inside">'+(ssw.parse(s,e,!0).all||[]).map(function(s){"swu"==e&&(s=ssw.swu2fsw(s));var r=s.match(/Z([0-9]+(\.[0-9]+)?)/);r=r?parseFloat(r[1]):1;var a=ssw.bbox(s).split(" "),t=(a[1]-a[0])*r,n=(a[3]-a[2])*r,i=(1e3-a[0]-a[1])*r;i+=2,s.indexOf("L")>-1&&(i+=150),s.indexOf("R")>-1&&(i-=150);var w="width: "+t+"px;height: "+n+"px;";return i>0?w+="margin-right: "+i+"px;":i<0&&(w+="border-left: "+(i=-i)+"px solid transparent;"),'<div class="sign" style="'+w+'">'+ssw.svg(s,{copy:e})+"</div>"}).join("")+"</span></span></span>"}};
